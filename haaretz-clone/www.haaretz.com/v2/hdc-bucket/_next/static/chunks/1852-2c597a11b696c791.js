(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1852,5733],{7183:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(32285);let n=`
    fragment UserStatusFragment on UserStatus {
  __typename
  isMailValidated
  isMobileValidated
  miniRegStatus
  isPhoneEmailConn
}
    `;var a=r(48090),l=(r(84200),r(69173));let o=`
    query CheckEmailExistPersonalQuery($email: String!, $site: Site!) {
  user: userLogin(email: $email) {
    ssoId: _id
    mobilePhone
    isPaying(site: $site)
    termsCheck(site: $site)
    userStatus {
      ...UserStatusFragment
    }
  }
}
    ${n}`,i=(e,t)=>{let r,n,i=(0,s.c)(3);return i[0]!==e?(r=["CheckEmailExistPersonalQuery",e],n=(0,l.A)(o,e),i[0]=e,i[1]=r,i[2]=n):(r=i[1],n=i[2]),(0,a.I)(r,n,t)};function u(e,t){return i(e,t)}i.document=o,i.getKey=e=>["CheckEmailExistPersonalQuery",e],i.fetcher=(e,t)=>(0,l.A)(o,e,t),u.getKey=i.getKey,u.fetcher=i.fetcher;let c=u},9218:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ArticleTypeProvider:()=>u,default:()=>c,useArticleTypeAtom:()=>f,useSetArticleType:()=>d});var s=r(32285),n=r(2619),a=r(26203),l=r(82155);let o=l.createContext(void 0),i=l.createContext(void 0);function u(e){let t,r,u=(0,s.c)(4),{children:c,value:d}=e,[f,b]=l.useState(d);u[0]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{"string"!=typeof e||""===e.trim()?b("StandardArticle"):b((0,a.A)(e)?e:"StandardArticle")},u[0]=t):t=u[0];let m=t;return u[1]!==f||u[2]!==c?(r=(0,n.jsx)(o,{value:f,children:(0,n.jsx)(i,{value:m,children:c})}),u[1]=f,u[2]=c,u[3]=r):r=u[3],r}function c(){let e=l.use(o);if(void 0===e)throw Error("useArticleType must be used within a ArticleTypeProvider");return e}function d(){let e=l.use(i);if(void 0===e)throw Error("useSetArticleType must be used within a ArticleTypeProvider");return e}function f(){let e,t=(0,s.c)(3),r=c(),n=d();return t[0]!==r||t[1]!==n?(e=[r,n],t[0]=r,t[1]=n,t[2]=e):e=t[2],e}},11206:(e,t,r)=>{"use strict";r.d(t,{default:()=>g});var s=r(32285),n=r(2619),a=r(67356),l=r(27434),o=r(82155);let i=r(89668).default,u="GAM_session",c="GAM_OutOfPage",d={everyNewSession:0,onceAnHour:1,whenPossible:2,none:3},f={everyNewSession:function(e){let t=!!sessionStorage?.getItem(u);return!t&&sessionStorage&&sessionStorage.setItem(u,"started"),!t},onceAnHour:function(e){let t=`GAM_${e.contentId}`,r=localStorage?.getItem(t),s=null,n=localStorage?.getItem(c),a=null,l=Date.now();if(r)try{s=parseInt(r,10)}catch(e){localStorage&&localStorage.removeItem(t)}if(n)try{a=parseInt(n,10)}catch(e){localStorage&&localStorage.removeItem(c)}return s?l-s>=36e5:!a||l-a>=3e4},whenPossible:h,none:h};function b(e){let t,r,n,a,i,u,c=(0,s.c)(9),{adSlots:d}=e;c[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],c[0]=t):t=c[0];let[b,h]=o.useState(t);return c[1]!==d?(n=d||[],c[1]=d,c[2]=n):n=c[2],c[3]!==n?(a=[...n].sort(p),c[3]=n,c[4]=a):a=c[4],r=a,c[5]!==r?(i=()=>{h(function(e){let t=[];for(let r of e)f[r.displayFrequency||"none"](r,t)&&t.push(r);return t}(r))},c[5]=r,c[6]=i):i=c[6],(0,l.A)(i,!0),c[7]!==b?(u=b&&b.length>0?b.map(m):null,c[7]=b,c[8]=u):u=c[8],u}function m(e){return(0,n.jsx)(i,{...e},e.contentId)}function p(e,t){let r=e.displayFrequency||"none",s=t.displayFrequency||"none";return d[r]-d[s]}function h(e,t){let r=t?.length>0,s=!0;if(r)s=!1;else{let e=Date.now(),t=localStorage?.getItem(c);if(t)try{let r=parseInt(t,10);s=e-r>2e4}catch(e){console.warn("unable to parse localStorage['GAM_OutOfPage'] to time.")}}return s}function g(e){return(0,n.jsx)(a.Ay,{children:(0,n.jsx)(b,{...e})})}},12935:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=function(e){return e?/\S+@\S+\.\S+/.test(e)?e.length>40?{valid:!1,text:"Email must contain less than 40 characters"}:{valid:!0,text:"Enter email"}:{valid:!1,text:"Use a valid email format"}:{valid:!1,text:"Enter email"}}},12991:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DEFAULT_ELEMENT:()=>c,_Chip:()=>f,chipBaseStyle:()=>u,default:()=>d});var s=r(2619),n=r(46272),a=r(8593),l=r(82155),o=r(68151);let i={base:{4:"foGVKH",60:"izykGz",76:"cwWSWx",95:"jhKQav",jfaxaL:"gAmOiO","1x":"kbeApl","5v":"jWjrEQ","5x":"eKtERL","3q":"BRobm","3o":"iovjFN","7o":"cUcBkx",az:"cFGWDo",jt:"gcyyum",jm:"fHRBnN",jv:"eGCNgh",jj:"kqnFEK",k4:"dUvWpK",k5:"hRLVFh",td:"wXQPo",t5:"kcobyR",ti:"iaemGh",ub:"bwVBMs",ba:"gVscJz",f6:"kvNqZl","3m":"gkvBph","3t":"ctibpX","3s":"hpBjJb",kh:"eejUxl","5t":"dnvTka","5z":"FwRrA",kr:"bdXHYu","4q":"dREueb","4s":"bTnXNj","4r":"hszzXi",kl:"fxCImo","4u":"hMMnTf","4w":"hXXzlB","4v":"itlHSH",km:"fPuwlT",brsFym:{"1x":"fMYctm"},jOFsBf:{jv:"doopzH",jm:"ghsDHv"},eSaxtD:{se:"iNlVNY"}},liveBlogVariant:{53:"bOyogF",60:"dHkdJT",76:"URsRO","1x":"fozssY",cprHYZ:"csCwQt","5f":"cjZygW","3t":"dECBTy",brsFym:{"1x":"fTldwl",cprHYZ:"bSOWnd"}},isPressed:{cprHYZ:"clwoRa","1x":"hvVLnT",brsFym:{"1x":"ivwdVR"}},icon:{17:"eIaFCs",g2:"BkTRv",h:"eXLpeB",l:"ieovjt",t:"dxsliA"},iconAnimation:{z:"kijnzi"},disabled:{j9:"ddlsXY",lj:"eDssNQ","8x":"fYFPyg"},nonPressable:{brsFym:{"1x":"VtttQ"},eSaxtD:{se:"hgKDpN"},"8x":"gvqjfu","1x":"mOGUM"}},u=i.base,c="button";function d(e){let{ref:t,as:r,kind:n,showIcon:u=!0,isPressed:d=!1,children:f=null,screenReaderText:m,pressableIcons:p={pressed:"check",unpressed:"plus"},inlineStyle:h,styleExtend:g=[],variant:y="base",...v}=e,[x,A]=l.useState(!1),S=l.useRef(d?p.pressed:p.unpressed),w=l.useRef(d);w.current!==d&&(w.current=d,A(!0),S.current=d?p.pressed:p.unpressed);let j={},k="pressable"===n;k&&(j["aria-pressed"]=d);let E=k&&u?(0,s.jsx)(b,{iconRef:S,shouldAnimate:x,setShouldAnimate:A,icons:p}):null;return(0,s.jsx)(r||c,{ref:t,style:h,...v,...j,className:(0,o.A)(i.base,"non-pressable"===n&&i.nonPressable,k&&d&&i.isPressed,"liveBlog"===y&&i.liveBlogVariant,v.disabled&&i.disabled,...g),children:(0,s.jsxs)(s.Fragment,{children:[E,m?(0,s.jsx)(a.Ay,{children:m}):null,f]})})}function f(e){return null}function b(e){let{iconRef:t,shouldAnimate:r,setShouldAnimate:a,icons:o}=e,[u,c]=l.useState(t.current);r&&(t.current=u===o.pressed?o.unpressed:o.pressed);let d=l.useCallback(e=>{setTimeout(()=>{c(t.current)},175)},[t]),f=l.useCallback(e=>{a(!1)},[a]);return(0,s.jsx)(n.A,{icon:u,focusable:!1,styleExtend:[i.icon,r&&i.iconAnimation],onAnimationEnd:f,onAnimationStart:d})}},15413:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(2619),n=r(7183),a=r(37098),l=r(58714),o=r(42349),i=r(12935),u=r(82155),c=r(68151);let d=function(e){let{buttonText:t,busyNotice:r="Signing up..",placeholder:d="name@example.com",defaultDescription:f="Please enter your email",invalidEmailMessage:b="Invalid email address",genericErrorMessage:m="An error occurred, please try again",textFieldStyleExtend:p=[],inputStyleExtend:h=[],buttonProps:g={},onSuccess:y,externalState:v,onSubmitBiAction:x,onUserAlreadyExists:A,onError:S,restEntryType:w,externalError:j,textfieldVariant:k="default",opaque:E=!1,onClearExternalError:I,overrideOnSubmit:B,styleExtend:N=[]}=e,[_,P]=u.useState(null),[F,R]=u.useState("default"),[T,C]=u.useState("auto"),D=u.useRef(null),O=(0,a.A)({restEntryType:w,onSuccess:async e=>{C("auto");let t=D?.current?.value.trim()||"";200===e.code&&e.success?await y?.(t,e):403===e.code&&e.messageCode?.[0]==="USER_ALREADY_EXISTS"?await A?.(t,e):(P(b),R("invalid"),S?.(e))},onError:e=>{C("auto"),P(m),R("invalid"),S?.(e)}}),M=u.useCallback(()=>{_&&P(""),"default"!==F&&R("default"),j&&I&&I()},[_,F,j,I]),U=async e=>{e.preventDefault(),C("busy");let t=D?.current?.value.trim()||"";x?.({action_id:60,newsletter_email:t});let r=(0,i.A)(t);if(r.valid){if("function"==typeof B)return void B(t);let{user:e}=await n.A.fetcher({email:t||"",site:l.CZ})();if(e?.ssoId)C("auto"),await A?.(t);else try{await O.mutateAsync({userName:t,site:l.bu.toString(),termsChk:"on",restEntryType:w})}catch(e){C("auto")}}else P(r.text),R("invalid"),C("auto")},W=_||j||f;return(0,s.jsx)("form",{onSubmit:U,className:(0,c.A)(...N),children:(0,s.jsx)(o.A,{label:"Email",state:v||"default",placeholder:d,btnContent:t,opaque:E,variant:k,ref:D,btnProps:{variant:"brand",type:"submit",...g,..."busy"===T?{state:T,busyNotice:r}:{state:T}},type:"email",description:W,isInvalid:"invalid"===F||!!j,onChange:M,pattern:"\\S+@\\S+\\.\\S+",maxLength:40,onInput:()=>{"default"!==F&&R("default")},onInvalid:e=>{e.preventDefault(),R("invalid")},styleExtend:p,inputStyleExtend:h})})}},17117:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var s=r(2619),n=r(45195),a=r(82155),l=r(68151);let o={defaultPlacement:{ci:"eYZjiD",ce:"daMFvj"},advertisement:{95:"gSBWlu",ef:"IVbXa"}},i={};function u(e){let{styleExtend:t=[],rawHtml:r}=e,u=a.useRef(null),c=(0,n.A)();return(a.useLayoutEffect(()=>{let e=u.current;if(!e||!r)return;let t=document.createRange();t.selectNode(e);let s=r.replaceAll(/module-(.+)\.js/g,(e,t)=>{i[t]=i[t]||0,i[t]+=1;let r=i[t]-1;return r?`${e}?${r}`:e}),n=t.createContextualFragment(s);e.innerHTML="",e.append(n)},[r]),r)?(0,s.jsx)("figure",{className:(0,l.A)(o.defaultPlacement,...t,c&&o.advertisement),"data-test":"articleHtmlElement",ref:u}):null}},17638:()=>{},21458:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(32285),n=r(53288),a=r(78684),l=r(94100);let o=function(e){let t,r,o,i=(0,s.c)(8);i[0]!==e?(t=new URLSearchParams((0,n.A)(e)),i[0]=e,i[1]=t):t=i[1];let u=t,c="articleTag"===e.resourceType?"articleTagKey":"writerAlerts",d=!!e.email;return i[2]!==d?(r={useErrorBoundary:!1,retry:!1,enabled:d},i[2]=d,i[3]=r):r=i[3],i[4]!==u||i[5]!==c||i[6]!==r?(o={cacheKey:c,url:l.QT,searchParams:u,clientOptions:r},i[4]=u,i[5]=c,i[6]=r,i[7]=o):o=i[7],(0,a.A)(o)}},23091:(e,t)=>{"use strict";function r(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},28256:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(32285),n=r(29049),a=r(94100);let l=function(e){let t,r,l=(0,s.c)(4);l[0]===Symbol.for("react.memo_cache_sentinel")?(t={method:"GET"},l[0]=t):t=l[0];let o=e?.onSuccess,i=e?.onError;return l[1]!==o||l[2]!==i?(r={cacheKey:"useUserAlertsUnsubscribe",url:a.sM,fetchOptions:t,clientOptions:{useErrorBoundary:!1,cacheTime:0,retry:!1,onSuccess:o,onError:i}},l[1]=o,l[2]=i,l[3]=r):r=l[3],(0,n.A)(r)}},35442:(e,t,r)=>{"use strict";r.d(t,{default:()=>S});var s=r(2619),n=r(68644),a=r(59992),l=r(12108),o=r(87503),i=r(44799),u=r(28256),c=r(21458),d=r(58714),f=r(67356),b=r(76873),m=r(71900),p=r(82155),h=r(68151);let g={base:{76:"URsRO",g2:"gceMZP",cprHYZ:"iNwPKG",ieIagA:"dobHlt",ba:"gVscJz",f6:"kvNqZl",euIAat:{ba:"cWAeKA",f6:"bSApwy"},bmDBbg:{ba:"cEKNZk",f6:"gMAJcp"},eIHxDx:{ba:"hyhpVP",f6:"kRmCJO"}},authorDetails:{6:"eAxdLi",76:"URsRO",ei:"cqxUdF",cprHYZ:"iNwPKG",ieIagA:"dobHlt",ce:"kvMsDB",cu:"daNwOU",cq:"cxfvtn",fQdabW:{6:"jzSPuQ"},LoNYL:{ei:"glPLkf",ci:"ESBbQ",ce:"gxlNYZ",cu:"dENKcF",cq:"gQyEyk",g7:"knVBeE",ba:"iGFkdV",f6:"hTMKYX"}},btnContent:{ba:"gVscJz",f6:"kvNqZl",euIAat:{ba:"cWAeKA",f6:"bSApwy"},bmDBbg:{ba:"cEKNZk",f6:"gMAJcp"},eIHxDx:{ba:"hyhpVP",f6:"kRmCJO"}},pressed:{76:"cwWSWx",iBzakK:"dYGhXS",cprHYZ:"kOwGMv"},wrraperForOnboarding:{95:"fdLHFk",ue:"iPbKFp"}},y={signup:"Follow",unsubscribe:"Unfollow"};function v(e){let{contentId:t,authorName:r,resourceType:f,tagName:v,kind:x="articleByline",styleExtend:A=[]}=e,S=(0,a.A)(),w=(0,l.Ay)("serverValue"),[j,k]=p.useState(!1),[E,I]=p.useState(!1),B=(0,b.A)(),N=p.useRef(null),_="authorDetails"===x,P="app"===S,{data:F}=(0,c.A)({resourceId:t,resourceType:f,site:d._P,email:w?.userMail}),[R,T]=p.useState("signup");p.useEffect(()=>{F?.subscribed&&T("unsubscribe")},[F]);let[C,D]=p.useState(P?"Unfollow":""),O=()=>{T("unsubscribe")},M=p.useCallback(()=>{"Unfollow"!==C&&(D("Unfollow"),O())},[C]),U=p.useCallback(()=>{"Follow"!==C&&(D("Follow"),T("signup"))},[C]);(0,m.A)("setFollow",M,!1),(0,m.A)("setUnfollow",U,!1);let W="signup"===R?"subscribe":"unsubscribe",z=(0,i.A)({onSuccess:()=>{I(!1)}}),H=(0,u.A)({onSuccess:()=>{I(!1)}}),q={campaign_name:`follow ${f}`,feature:`${"writer"===f?"Writer":"Blog"} Alert - article page`,feature_type:"Content",newsletter_segment_id:t,newsletter_segment_name:r};async function K(){"subscribe"===W&&(T("unsubscribe"),I(!0),P||(I(!0),z.mutate({site:d._P,resourceType:f,resourceId:t})),B({action_id:9,campaign_details:"follow",newsletter_email:w.userMail,...q})),"unsubscribe"===W&&(P||(T("signup"),I(!0),H.mutate({site:d._P,json:"true",resourceType:f,resourceId:t})),B({action_id:8,campaign_details:"unfollow",newsletter_email:w.userMail,...q}))}let V="Follow"===C;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Ay,{ref:N,as:P?"a":"button",styleExtend:[_?g.authorDetails:g.base,"unsubscribe"===R?g.pressed:null,...A],kind:"pressable",...!P&&{disabled:E},isPressed:"unsubscribe"===R,pressableIcons:{pressed:"bell-off",unpressed:"bell"},..."anonymous"!==w.userType?{onClick:K}:{onClick:function(){B({action_id:91,campaign_details:"open UI",...q})}},...P?{href:`https://author.alerts.${V?"off":"on"}/`,target:"_blank",rel:"noreferrer"}:{},children:_?(0,s.jsx)("span",{className:(0,h.A)(g.btnContent),children:y[R]}):(0,s.jsx)(s.Fragment,{children:y[R]})}),P||"anonymous"!==w.userType?null:(0,s.jsx)(n.A,{setUnsubscribeButton:O,isOpenFromParent:j,contentId:t,onToggle:e=>{k(e)},refersToRef:N,popoverPlacement:"bottom-start",..."tag"===f?{resourceType:"tag",tagName:v}:{resourceType:"writer",authorName:r}})]})}function x(){return(0,s.jsx)(o.Ay,{styleExtend:[g.base],kind:"pressable",disabled:!0,pressableIcons:{pressed:"bell-off",unpressed:"bell"},children:"Follow"})}function A(e){let{children:t,kind:r}=e;return"authorDetails"===r?(0,s.jsx)(p.Fragment,{children:t}):(0,s.jsx)("div",{id:"btn-author-alerts",className:(0,h.A)(g.wrraperForOnboarding),children:t})}function S(e){return(0,s.jsx)(f.Ay,{children:(0,s.jsx)(A,{kind:e.kind,children:(0,s.jsx)(p.Suspense,{fallback:(0,s.jsx)(x,{}),children:(0,s.jsx)(v,{...e})})})})}},37098:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var s=r(32285),n=r(19682),a=r(29049),l=r(94100);function o(e){return{...e,status:e["login-status"],success:!0===e.success||"true"===e.success,...Array.isArray(e.message)?{message:void 0,messages:e.message}:"string"==typeof e.message?{message:void 0,messages:[e.message]}:{}}}let i=function(e){let t,r,n=(0,s.c)(4);n[0]===Symbol.for("react.memo_cache_sentinel")?(t={method:"POST",headers:{accept:"application/json","content-type":"application/json"}},n[0]=t):t=n[0];let i=e?.onSuccess,u=e?.onError;return n[1]!==i||n[2]!==u?(r={cacheKey:"userRegistration",url:l.ul,fetchOptions:t,clientOptions:{useErrorBoundary:!1,retry:!1,cacheTime:0,onSuccess:i,onError:u},transformResponse:o},n[1]=i,n[2]=u,n[3]=r):r=n[3],(0,a.A)(r)};function u(e){return{...e,status:e["login-status"],success:!0===e.success||"true"===e.success,...Array.isArray(e.message)?{message:void 0,messages:e.message}:"string"==typeof e.message?{message:void 0,messages:[e.message]}:{}}}let c=function(e){let t,r,n=(0,s.c)(4);n[0]===Symbol.for("react.memo_cache_sentinel")?(t={method:"POST",headers:{accept:"application/json","content-type":"application/x-www-form-urlencoded"}},n[0]=t):t=n[0];let o=e?.onSuccess,i=e?.onError;return n[1]!==o||n[2]!==i?(r={cacheKey:"userRegistration",url:l.lH,fetchOptions:t,clientOptions:{useErrorBoundary:!1,retry:!1,cacheTime:0,onSuccess:o,onError:i},transformResponse:u},n[1]=o,n[2]=i,n[3]=r):r=n[3],(0,a.A)(r)},d=function(e){let t=e.user?.abuse,r=e.success,s=e.messages;if(!1===r&&s?.[0]==="abuse-logout"&&t){let t=e?.user?.abuse.redirect,r="string"==typeof t?/(\/abuse):(.*):(.*)/.exec(t):null,s=r?{url:`https://login.haaretz.com${r[1]}`,email:r[2],sso:r[3]}:null;if(s){let e=window.btoa(JSON.stringify(s)),t=`${s.url}?loginData=${e}`;window.location.assign(t)}}},f=function(e){let t,r,a,l,o=(0,s.c)(12),{restEntryType:u,onSuccess:f,onError:b}=e,m=(0,n.useSetUser)();o[0]!==f||o[1]!==m?(t=async e=>{d(e),m("login"),"function"==typeof f&&f(e)},o[0]=f,o[1]=m,o[2]=t):t=o[2],o[3]!==b||o[4]!==t?(r={onSuccess:t,onError:b},o[3]=b,o[4]=t,o[5]=r):r=o[5];let p=i(r);o[6]!==f||o[7]!==m?(a=async e=>{d(e),m("login"),"function"==typeof f&&f(e)},o[6]=f,o[7]=m,o[8]=a):a=o[8],o[9]!==b||o[10]!==a?(l={onSuccess:a,onError:b},o[9]=b,o[10]=a,o[11]=l):l=o[11];let h=c(l);return"NEWSLETTER_MINI_REG"===u||"ARTICLE_MINI_REG"===u?p:h}},42349:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(2619),n=r(38880),a=r(58368),l=r(47398),o=r(82155),i=r(68151);let u={base:{95:"gSBWlu","9t":"iMkoWi"},button:{"9z":"bcjLCN",ti:"iaemGh",eSaxtD:{sj:"jZRusW"},iFUDng:{ba:"hxQXq",f6:"cLYEdx"},eIHxDx:{ba:"iswsIN",f6:"lbqvfo"}},inputWithButton:{95:"gSBWlu"},input:{"9z":"iGDTOy",ue:"fEmNDH"},disabledState:{j9:"gOeSjL"}},c=function(e){let{ref:t,inlineStyle:r,isInvalid:c,opaque:d,styleExtend:f=[],state:b,variant:m,required:p,inputStyleExtend:h=[],isInvalidDescription:g,btnContent:y,btnProps:{onClick:v,state:x,busyNotice:A,variant:S,styleExtend:w=[],...j}={},btnRef:k,...E}=e,I=o.useRef(null),[B,N]=o.useState(!1);o.useImperativeHandle(t,()=>I.current);let _=o.useId(),P="function"==typeof E.description?E.description(""):E.description;if(c&&g)throw Error("both isInvalid and isInvaliDescription are set to true, if you want to control only the description you have to make sure isInvalid is set to false");let F=c||"disabled"===b?"disabled":x,R=c?"danger":S,T=o.useCallback(e=>{if(I.current&&!I.current.value.trim()){e.preventDefault(),p||N(!0);return}v&&v(e)},[v,p]);return(0,s.jsxs)(l.TextFieldWrapper,{inlineStyle:r,isInvalid:c,opaque:d,styleExtend:[u.base,...f],state:b,variant:m,children:[(0,s.jsxs)("div",{className:(0,i.A)(u.inputWithButton),children:[(0,s.jsx)(l.TextFieldInput,{...E,defaultValue:E.defaultValue,describedBy:P&&_,hideBorder:"end",ref:I,required:p||B,sharp:"end",state:b,styleExtend:[u.input,...h]}),(0,s.jsx)(n.Ay,{...j,..."busy"===F?{state:"busy",busyNotice:A}:{state:F},onClick:T,ref:k,sharp:"start",variant:R,styleExtend:[u.button,"disabled"===b&&u.disabledState,...w],children:y})]}),P?(0,s.jsx)(a.A,{id:_,isInvalid:g||c,variant:m,children:P}):null]})}},44799:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(32285),n=r(29049),a=r(94100);let l=function(e){let t,r,l=(0,s.c)(4);l[0]===Symbol.for("react.memo_cache_sentinel")?(t={method:"GET"},l[0]=t):t=l[0];let o=e?.onSuccess,i=e?.onError;return l[1]!==o||l[2]!==i?(r={cacheKey:"userAlertsRegistration",url:a.hM,fetchOptions:t,clientOptions:{useErrorBoundary:!1,cacheTime:0,retry:!1,onSuccess:o,onError:i}},l[1]=o,l[2]=i,l[3]=r):r=l[3],(0,n.A)(r)}},45195:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(89489);let n=function(){let e=(0,s.Ay)();return!!e?.startsWith("Advertisement")}},54163:()=>{},56267:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ContextProvider:()=>i,default:()=>d,useAuthorDetailsActionsContext:()=>c,useAuthorDetailsContext:()=>u});var s=r(2619),n=r(68325),a=r(82155);let l=a.createContext(void 0),o=a.createContext(void 0);function i(e){let{children:t}=e,r=(0,n.Ay)(),[i,u]=a.useState("expanded"===r),c=a.useMemo(()=>({biographyIsOpen:i}),[i]),d=a.useMemo(()=>({setBiographyIsOpen:u}),[]);return(0,s.jsx)(l,{value:c,children:(0,s.jsx)(o,{value:d,children:t})})}function u(){let e=a.use(l);if(void 0===e)throw Error("useAuthorDetailsContext must be used within a AuthorDetailsContext.");return e}function c(){let e=a.use(o);if(void 0===e)throw Error("useAuthorDetailsActionsContext must be used within a AuthorDetailsActionsContext.");return e}function d(e){let{children:t}=e;return(0,s.jsx)(i,{children:t})}},57228:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(32285),n=r(29049),a=r(94100);let l=function(e){let t,r,l,o=(0,s.c)(4);o[0]===Symbol.for("react.memo_cache_sentinel")?(t=new URLSearchParams({resourceType:"articleTag"}),o[0]=t):t=o[0];let i=t;o[1]===Symbol.for("react.memo_cache_sentinel")?(r={method:"GET"},o[1]=r):r=o[1];let u=e?.onSuccess;return o[2]!==u?(l={cacheKey:"tagAlertsRegistration",url:a.hM,searchParams:i,fetchOptions:r,clientOptions:{useErrorBoundary:!1,cacheTime:0,retry:!1,onSuccess:u}},o[2]=u,o[3]=l):l=o[3],(0,n.A)(l)}},64897:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var s=r(32285),n=r(2619),a=r(46272);r(82155);var l=r(68151),o=r(56267);let i={bioBtn:{4:"foGVKH",95:"gSBWlu",ef:"IVbXa","7o":"cUcBkx","1x":"KqcXP",bu:"huiurs",ba:"gVscJz",f6:"kvNqZl",g7:"esLfzT",fu:"cqluLu",hA_Dhhn:{ba:"cnhEQd",f6:"iYEZhb"},ckijge:{ba:"dAnxmK",f6:"lgJsAO"},XBEFd:{g7:"bouWHe",fu:"jbvMne"},bmDBbg:{g7:"gLtzBs",fu:"dPQNyk"},eIHxDx:{ba:"iswsIN",f6:"lbqvfo"}},chevron:{lx:"eMURPm",ba:"fUqtKm",cMBHap:{ba:"inUJsA"},XBEFd:{ba:"cmYYKU"},durFye:{ba:"jOduPE"}},isOpen:{lx:"bgpkEh"}};function u(e){let t,r=(0,s.c)(6),{isAuthor:u}=e,{biographyIsOpen:d}=(0,o.useAuthorDetailsContext)(),{setBiographyIsOpen:f}=(0,o.useAuthorDetailsActionsContext)();if(r[0]!==d||r[1]!==u||r[2]!==f){let e;r[4]!==f?(e=()=>{f(c)},r[4]=f,r[5]=e):e=r[5],t=(0,n.jsxs)("button",{className:(0,l.A)(i.bioBtn),onClick:e,"data-testid":"biography-btn",children:[u?"Bio":"Description",(0,n.jsx)(a.A,{icon:"chevron",styleExtend:[i.chevron,d&&i.isOpen]})]}),r[0]=d,r[1]=u,r[2]=f,r[3]=t}else t=r[3];return t}function c(e){return!e}},68644:(e,t,r)=>{"use strict";r.d(t,{A:()=>v});var s=r(32285),n=r(2619),a=r(38880),l=r(48335),o=r(57228),i=r(44799),u=r(58714),c=r(46272),d=r(15413),f=r(88114),b=r(76873),m=r(82155),p=r(68151);let h={base:{95:"gSBWlu",ef:"IVbXa","1x":"hXoEex","9t":"iMkoWi",ko:"eeREmo",kn:"hRjOno",kr:"jtxNXy",kh:"izetJs",g2:"leMFds",g1:"NdTPr",ue:"fWujDT",i9:"eboFwD",euIAat:{ue:"dNkbEC"},durFye:{ue:"hRBaKq"}},insideDiv:{d4:"gdPTUr",az:"cFGWDo"},closeIcon:{ba:"fUqtKm"},closeIconClickArea:{6:"duSHeH",v6:"jvKoxA",ea:"bjSPAa",lk:"bEvNbr",s8:"bMQvhU",bmDBbg:{s8:"bsTVHN"},eIHxDx:{s8:"lbJCzN"}},fontSize:{ba:"jrcYoY",f6:"oZPxp",bmDBbg:{ba:"kHlstv",f6:"jcQgYi"},eIHxDx:{ba:"iswsIN",f6:"lbqvfo"}},disclaimer:{g7:"fClzDx",ba:"gVscJz",f6:"kvNqZl",bmDBbg:{kl:"khLpBT",ba:"hfBlWQ",f6:"MEWJw"},eIHxDx:{kl:"dofaQk",ba:"boPXgS",f6:"bnVOLt"}},textField:{g7:"fClzDx"},thankYouDiv:{4:"foGVKH",95:"gSBWlu",ly:"bNzOWQ","7o":"kEFtPS","9t":"iMkoWi",d4:"djwrpu",ef:"IVbXa"}},g={writer:"for new articles by ",tag:"for new articles about ",blog:"על כל כתבה חדשה של הבלוג של"};function y(e){console.error(`Alerts registration error: ${e.message}`)}let v=function(e){let t,r,v,x,A,S,w,j=(0,s.c)(31),{setRegistrationSuccess:k,onToggle:E,isOpenFromParent:I,contentId:B,resourceType:N,tagName:_,authorName:P,refersToRef:F,inlineStyle:R,popoverPlacement:T,styleExtend:C}=e;j[0]!==C?(t=void 0===C?[]:C,j[0]=C,j[1]=t):t=j[1];let D=t,[O,M]=m.useState("subscription"),U=(0,b.A)();j[2]===Symbol.for("react.memo_cache_sentinel")?(r={onSuccess:e=>{"success"===e.status||"pending"===e.status?M("thankYou"):console.error(`Alerts registration error: ${e.status}`)},onError:y},j[2]=r):r=j[2];let W=(0,i.A)(r);j[3]!==k?(v={onSuccess:e=>{("success"===e.status||"pending"===e.status)&&(k&&k(!0),M("thankYou"))}},j[3]=k,j[4]=v):v=j[4];let z=(0,o.A)(v);j[5]!==P||j[6]!==U||j[7]!==B||j[8]!==N||j[9]!==z||j[10]!==_||j[11]!==W?(x=async e=>{let t={action_id:9,campaign_details:"follow",feature_type:"Content",newsletter_segment_id:B,campaign_name:`follow ${N}`,newsletter_email:e};"tag"===N?(await z.mutateAsync({email:e,site:u._P,resourceId:B,caller:"server"}),U({feature:"TagAlert - article page",newsletter_segment_name:_,...t})):(W.mutate({site:u._P,email:e,resourceType:N,resourceId:B,caller:"server"}),U({feature:`${"blog"===N?"Blog":"Writer"} Alert - article page`,newsletter_segment_name:P,...t}))},j[5]=P,j[6]=U,j[7]=B,j[8]=N,j[9]=z,j[10]=_,j[11]=W,j[12]=x):x=j[12];let H=x;j[13]!==E?(A=()=>{E(!1)},j[13]=E,j[14]=A):A=j[14];let q=A;j[15]!==E?(S=()=>{E(!1)},j[15]=E,j[16]=S):S=j[16];let K=S;return j[17]!==P||j[18]!==O||j[19]!==R||j[20]!==I||j[21]!==q||j[22]!==K||j[23]!==E||j[24]!==T||j[25]!==F||j[26]!==H||j[27]!==N||j[28]!==D||j[29]!==_?(w=(0,n.jsxs)(f.default,{isOpen:I,refersToRef:F,inlineStyle:R,keepInView:!0,styleExtend:[h.base,...D],onToggle:E,placement:T,closeOn:"esc+blur",children:[(0,n.jsx)(l.Ay,{size:"extraSmall",styleExtend:[h.closeIconClickArea],children:(0,n.jsx)(c.A,{icon:"close",onClick:q,styleExtend:[h.closeIcon]})}),(0,n.jsx)("div",{className:(0,p.A)(h.insideDiv),children:"subscription"===O?(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:(0,p.A)(h.fontSize),children:"Send me alerts"}),(0,n.jsxs)("p",{className:(0,p.A)(h.fontSize),children:[g[N],"tag"===N?_:P]}),(0,n.jsx)(d.A,{busyNotice:"subscribing..",onSuccess:H,onUserAlreadyExists:H,buttonText:"Send",textFieldStyleExtend:[h.textField],restEntryType:"NEWSLETTER_MINI_REG"}),(0,n.jsx)("p",{className:(0,p.A)(h.disclaimer),children:"By registering, I agree to the site's terms of use and to receive newsletters and subscription offers from Haaretz."})]}):(0,n.jsxs)("div",{className:(0,p.A)(h.thankYouDiv),children:[(0,n.jsx)("h3",{children:"Signed up successfully"}),(0,n.jsx)(a.Ay,{variant:"brand",onClick:K,children:"Close"})]})})]}),j[17]=P,j[18]=O,j[19]=R,j[20]=I,j[21]=q,j[22]=K,j[23]=E,j[24]=T,j[25]=F,j[26]=H,j[27]=N,j[28]=D,j[29]=_,j[30]=w):w=j[30],w}},77577:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(32285),n=r(2619);r(82155);var a=r(68151),l=r(56267);let o={base:{cu:"hMRvHk",cq:"cxfvtn",ci:"jpzSQx",g7:"cUXNmd",LoNYL:{g7:"knVBeE",ci:"koySZe",ce:"jSJiKQ",kr:"dedWLz",kh:"efwTGW",ko:"ewgTyY",kn:"dsxDWT","1x":"PKeqR","5v":"cNvlTb","5x":"dyziUN","3q":"cFYGHk","3o":"isovwz"}}};function i(e){let t,r=(0,s.c)(2),{children:i}=e,{biographyIsOpen:u}=(0,l.useAuthorDetailsContext)();return u?(r[0]!==i?(t=(0,n.jsx)("div",{className:(0,a.A)(o.base),"data-testid":"biography",children:i}),r[0]=i,r[1]=t):t=r[1],t):null}},80546:()=>{},82802:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return s.callServer},createServerReference:function(){return a.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}});let s=r(26149),n=r(28525),a=r(23013)},87503:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>s});let s=r(12991).default},88114:(e,t,r)=>{"use strict";let s;r.r(t),r.d(t,{DEFAULT_ELEMENT:()=>h,default:()=>y});var n=r(2619),a=r(58984),l=r(47987),o=r(64526),i=r(11721);let u=function(e){return(s=null==s?Number.parseInt(getComputedStyle(document.documentElement).fontSize)||0:s)&&Number.parseFloat(e)*s||0};var c=r(13739),d=r(82155),f=r(68151);let b="0.75rem",m="0.5rem",p={elementsWrapper:{76:"huYRdW",fCtNMB:"kqcfRB",lk:"bEvNbr",s8:"gdRGRW",eu:"caCrFV",v6:"krAhQG"},inverseVariant:{jpqFAW:"iWxEKK",glCxqy:"bDXnqH",fCtNMB:"jcPrvU",gkMtuA:"hByOXY",imNhjg:"hoczMS"},popover:{60:"izykGz","1x":"iZNbEn",g2:"euSzUE",g1:"joUZpP","5v":"dMldmn","5x":"izpuPX","3q":"inVqGg","3o":"jpXWzO","3m":"gcvawS","3t":"ctibpX","3s":"hpBjJb",kh:"eejUxl","4q":"euFRsW","4s":"bTnXNj","4r":"hszzXi",kl:"cfEHVR","4u":"jfUYQy","4w":"hXXzlB","4v":"itlHSH",km:"kQDwxQ","5t":"ctDOVj","5z":"FwRrA",kr:"bdXHYu"},arrowKeepInBound:{lk:"bEvNbr",bIphqo:"eUirwo",s8:"jbTRU",eu:"kFDthg",ue:"cFMWHx",se:"dqImtA"},arrowBehind:{lk:"bEvNbr",bIphqo:"eUirwo",s8:"fsoPQz",eu:"bRScxA",ue:"hiDeJu","1x":"liFA_di",se:"dqImtA",v6:"iYxGWt"},arrowBehindBorderRadiusBlock:{"5v":"dcAuKZ","3q":"dpaEwS"},arrowBehindBorderRadiusInline:{"5x":"llpVxN","3o":"jvbZfh"},arrowFront:{lk:"bEvNbr",bIphqo:"eUirwo",s8:"cDlTOD",eu:"bZPMts",ue:"iTSRZl","1x":"fJLIOF",se:"dqImtA",v6:"hTKfVG"},arrowFrontBorderRadiusBlock:{"5v":"kfEoCQ","3q":"fdJDfg"},arrowFrontBorderRadiusInline:{"5x":"kkFQYt","3o":"gPcjvg"},topArrowPadding:{kr:"dmKgnC"},bottomArrowPadding:{kh:"dPFrWx"},leftArrowPadding:{kn:"JxWnH"},rightArrowPadding:{ko:"cVJMrm"}},h="div";function g(e){let{as:t,children:r=null,inlineStyle:s,styleExtend:g=[],refersToRef:y,variant:v="default",placement:x="top",openOn:A,keepInView:S,isOpen:w,kind:j="popover",defaultIsOpen:k,onToggle:E,closeOn:I="esc+blur",offsetValue:B=0,...N}=e,_=d.useId(),P=d.useRef(null),[F,R]=d.useState(k||!1),T=null!=w?w:F,C=function(e){if("number"==typeof e)return e;if("string"==typeof e)return u(e);if("object"==typeof e){let t={};for(let r in e){let s=e[r];"string"==typeof s&&(t[r]=u(s))}return t}return 0}(B);null==w||E||console.warn(`<Popover>: You set a value to "isOpen", making it a controlled component,
      but did not set an "onToggle" handler,
      making the controlling component unaware of internal changes.`);let D="popover"===j,O=A||(D?"click":"hover+focus"),M="blur"===I||"esc+blur"===I,U=null!==r,W=d.useCallback(e=>{E?E(e):R(e)},[E]),{x:z,y:H,context:q,middlewareData:K,refs:V,placement:L}=(0,a.we)({placement:x,open:T,onOpenChange:W,middleware:[(0,l.cY)(C),...S?[(0,l.BN)(),(0,l.UU)()]:[],...U?[(0,o.UE)({element:P})]:[]],whileElementsMounted:i.ll}),{getReferenceProps:Y,getFloatingProps:X}=(0,a.bv)([(0,a.Mk)(q,{enabled:"hover+focus"===O||"hover"===O}),(0,a.iQ)(q,{enabled:"hover+focus"===O||"focus"===O}),(0,a.kp)(q,{enabled:"click"===O}),(0,a.It)(q,{role:"dialog"}),(0,a.s9)(q,I&&{enabled:"controlled"!==I,escapeKey:"esc"===I||"esc+blur"===I,outsidePress:M})]),G={top:"bottom",right:"left",bottom:"top",left:"right"}[L.split("-")[0]],Q=d.useMemo(()=>K.arrow?.x,[K.arrow?.x]),$=d.useMemo(()=>K.arrow?.y,[K.arrow?.y]),Z=`calc((${b} * -0.5) + 1px + ${m})`,J=`calc((${b} * -0.5) + (1px * 2 + ${m}))`,ee=`calc((${b} * -0.7) + 1px + ${m})`;if(d.useLayoutEffect(()=>{let e=y?.current,{onClick:t,onKeyDown:r,onKeyUp:s,onMouseDown:n,onPointerDown:a,onFocus:l,onBlur:o,onMouseMove:i,onPointerEnter:u,...c}=Y(),d={click:t,keydown:r,keyup:s,mousedown:n,pointerdown:a,focus:l,blur:o,mousemove:i,pointerenter:u};return e&&(V.setReference(e),e.setAttribute("aria-describedby",_),Object.entries(d).forEach(t=>{let[r,s]=t;"function"==typeof s&&e.addEventListener(r,s)}),Object.entries(c).forEach(t=>{let[r,s]=t;"function"!=typeof s&&null!=s&&e.setAttribute(r,s)})),()=>{e&&(e.removeAttribute("aria-describedby"),Object.entries(d).forEach(t=>{let[r,s]=t;"function"==typeof s&&e.removeEventListener(r,s)}),Object.entries(c).forEach(t=>{let[r,s]=t;"function"!=typeof s&&e.removeAttribute(r)}))}},[Y,_,y,V]),!y?.current)return null;let et=`${G}ArrowPadding`,er=L.includes("top")||L.includes("bottom"),es=(0,n.jsx)("div",{className:(0,f.A)(p.elementsWrapper,G&&p[et],"inverse"===v&&p.inverseVariant),ref:V.setFloating,style:{"--y":`${H}px`,"--x":`${z}px`,...s},...X(),children:U&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t||h,{id:_,role:"tooltip"===j?"tooltip":"region","data-testid":"popover",className:(0,f.A)(p.popover,...g),...N,children:r}),(0,n.jsxs)("div",{style:{"--arrowX":null!=Q?`${Q}px`:"","--arrowY":null!=$?`${$}px`:""},children:[(0,n.jsx)("div",{className:(0,f.A)(p.arrowKeepInBound),ref:P,style:{...G&&{[G]:ee}}}),(0,n.jsx)("div",{className:(0,f.A)(p.arrowBehind,er?p.arrowBehindBorderRadiusBlock:p.arrowBehindBorderRadiusInline),style:{...G&&{[G]:Z}}}),(0,n.jsx)("div",{className:(0,f.A)(p.arrowFront,er?p.arrowFrontBorderRadiusBlock:p.arrowFrontBorderRadiusInline),style:{...G&&{[G]:J}}})]})]})});return(0,n.jsx)(c.A,{children:(0,n.jsx)(a.XF,{children:T&&(D?(0,n.jsx)(a.s3,{context:q,modal:!M,order:["content","floating","reference"],children:es}):es)})})}let y=function(e){return(0,n.jsx)(g,{...e})}},89489:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>s});let s=r(9218).default}}]);
//# sourceMappingURL=1852-2c597a11b696c791.js.map