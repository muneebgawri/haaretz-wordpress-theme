(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6503],{868:(e,t,n)=>{"use strict";n.d(t,{default:()=>m});var r=n(2619),i=n(32285),s=n(59992),o=n(8273),l=n(83985),a=n(67356),d=n(82155);function c(){let e,t,n=(0,i.c)(4),r=(0,o.G)(),a=(0,s.A)(),c=r?.colorMode||"light";return n[0]!==c||n[1]!==a?(e=()=>{if("dark"!==c)return(0,l.A)("dark",a,!1),()=>{(0,l.A)(c,a,!1)}},t=[c,a],n[0]=c,n[1]=a,n[2]=e,n[3]=t):(e=n[2],t=n[3]),d.useEffect(e,t),null}function m(e){let t,n=(0,i.c)(1),{isPhotoBlog:s}=e;return s?(n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(a.Ay,{children:(0,r.jsx)(c,{})}),n[0]=t):t=n[0],t):null}},2429:()=>{},3319:()=>{},5282:(e,t,n)=>{"use strict";n.d(t,{default:()=>_});var r=n(2619),i=n(59992),s=n(12108),o=n(82390),l=n(81722),a=n(58714),d=n(76873),c=n(83449),m=n(32285),h=n(8273);let u=function(){let e,t=(0,m.c)(2),{colorMode:n}=(0,h.G)()||{colorMode:"light"};if(t[0]!==n)e="dark"===n||"system"===n&&window.matchMedia("(prefers-color-scheme: dark)").matches,t[0]=n,t[1]=e;else e=t[1];return e};var b=n(27434),v=n(31056),P=n(82155),f=n(68151),p=n(71900);let g="htzToggleAudioReader",y=function(e){let t,n,r,s,d=(0,m.c)(7),c=(0,i.A)(),h=window[a.PK]?.Iphone.callHistory.toggleAudioReader??void 0,[u,v]=P.useState(!1);d[0]!==u?(t=u||h?.at(-1)?.[0]==="show",d[0]=u,d[1]=t):t=d[1];let f=t;d[2]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{let[t]=e.detail||[];v("show"===t)},d[2]=n):n=d[2];let y=n;return d[3]!==c?(r=()=>{var e;(0,o.A)({key:g,storage:"local"})&&"app"!==c||(e="show",(0,l.A)({key:g,value:e,storage:"local"}))},d[3]=c,d[4]=r):r=d[4],(0,b.A)(r,!0),d[5]!==e?(s=()=>{e?.()},d[5]=e,d[6]=s):s=d[6],(0,b.A)(s,f&&"function"==typeof e),(0,p.A)("toggleAudioReader",y,!1),f},A={base:{ci:"jrBSXg",ce:"eeSwuc",g7:"cUXNmd"}},x={feature:"Trinity Text to Speech",feature_type:"Content",campaign_name:"Trinity Text to Speech"},k="htzToggleAudioReader";function _(){let e=(0,i.A)(),t=(0,v.usePathname)(),n=(0,s.Ay)("cookieValue"),m=u(),h=(0,d.A)(),p=P.useRef(null),g=P.useId(),_=y();(0,b.A)(()=>{let t=(0,o.A)({key:k,storage:"local"});_&&!t&&"app"!==e&&(0,l.A)({key:k,value:"show",storage:"local"}),"app"!==e&&"show"===t&&(window[a.PK]?.Iphone.toggleAudioReader)("show")},!0);let w=t.includes("/podcasts/");(0,c.A)({elementRef:p,biData:x}),P.useEffect(()=>{let e=e=>{window.TRINITY_PLAYER?.constants&&e.data&&e.data.value&&e.data.value.action&&("resumed"===e.data.value.action||"playClicked"===e.data.value.action)&&h({...x,action_id:161,campaign_details:e.data.value.action})};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[h]);let S=P.useCallback(()=>{let e=p.current;if(!e||e.querySelector(`script[id="${g}"]`))return;let t="paying"===n.userType,r=new URLSearchParams({pageURL:window.location.href,subscriber:t?"1":"0",...m?{themeAppearance:"dark"}:{}}),i=`https://trinitymedia.ai/player/trinity/2900001646/?${r.toString()}`,s=document.createElement("script");s.src=i,s.setAttribute("type","text/javascript"),s.setAttribute("id",g),s.setAttribute("async","true"),s.setAttribute("data-testid","trinity-player"),p?.current?.appendChild(s)},[m,g,n.userType]),j="app"===e;return j||_&&(!j||!w)&&n.userType?(0,r.jsx)("div",{ref:e=>{p.current=e,S()},className:`hide-when-empty ${(0,f.A)(A.base)}`}):null}},8273:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,G:()=>d});var r=n(59992),i=n(82390),s=n(81722),o=n(58714),l=n(31056);function a(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(m(e))try{let r;n&&e&&(0,s.A)({key:o.ye,storage:"app"===t?"session":"local",value:e}),r="system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e,"light"===r?document.documentElement.classList.remove("darkMode"):document.documentElement.classList.add("darkMode"),document.documentElement.dataset.theme=r}catch(e){console.error("Failed to set color mode:\n",e.message)}else console.error(`Invalid color mode: ${e}`)}function d(){let e=(0,r.A)();if("true"===(0,l.useSearchParams)().get("darkMode"))return{colorMode:"dark"};try{let t=(0,i.A)({key:o.ye,storage:"app"===e?"session":"local"});if(t&&m(t))return{colorMode:t}}catch(e){console.error("Failed to retrieve color mode:\n",e.message)}}let c=["dark","light","system"];function m(e){return!!e&&c.includes(e)}},13599:()=>{},15646:(e,t,n)=>{"use strict";n.d(t,{default:()=>b});var r=n(2619),i=n(59992),s=n(12108),o=n(29606),l=n(48335),a=n(10547),d=n(46272),c=n(76873),m=n(82155),h=n(68151);let u={base:{ub:"bwVBMs",cnmStr:{95:"cvXmHR"}},icon:{td:"PQKIY",t5:"GvmtF",t0:"czDhtP",ti:"gYGwwU",se:"fdaIFJ"},zenModeOn:{se:"kLFcZz"},text:{g2:"gceMZP"}};function b(e){let{clickAreaStyleExtend:t=[],iconStyleExtend:n=[],textStyleExtend:b=[],id:v}=e,P=m.useRef(null),[f,p]=(0,o.useZenModeAtom)(),[g,y]=m.useState(!1),A=(0,s.Ay)("cookieValue"),x=(0,i.A)(),k=(0,c.A)("action");if("desktop"!==x)return null;let _="paying"===A.userType;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.Ay,{ref:P,styleExtend:[...t,u.base],rippleSize:"small",onClick:()=>void(k({feature:"Zen",feature_type:"Content",campaign_name:"Zen_button",action_id:92}),_?p():y(!0)),"data-testid":"zen-btn",title:"Zen Reading",id:v,children:[(0,r.jsx)(d.A,{icon:"zen",styleExtend:[u.icon,f&&u.zenModeOn,...n],variant:f?"brand":"neutral"}),(0,r.jsx)("span",{className:(0,h.A)(u.text,...b),children:f?"Cancel Zen":"Zen Reading"})]}),(0,r.jsx)(a.A,{type:"zen",isOpen:g,onClose:function(){y(!1)},"data-testid":"zen-dialog"})]})}},21200:(e,t,n)=>{Promise.resolve().then(n.bind(n,26649)),Promise.resolve().then(n.bind(n,99652)),Promise.resolve().then(n.bind(n,34026)),Promise.resolve().then(n.bind(n,54815)),Promise.resolve().then(n.bind(n,28975)),Promise.resolve().then(n.bind(n,59998)),Promise.resolve().then(n.t.bind(n,27530,23)),Promise.resolve().then(n.t.bind(n,68759,23)),Promise.resolve().then(n.t.bind(n,73367,23)),Promise.resolve().then(n.t.bind(n,45762,23)),Promise.resolve().then(n.t.bind(n,21015,23)),Promise.resolve().then(n.t.bind(n,81019,23)),Promise.resolve().then(n.t.bind(n,54176,23)),Promise.resolve().then(n.t.bind(n,25172,23)),Promise.resolve().then(n.t.bind(n,13873,23)),Promise.resolve().then(n.t.bind(n,56345,23)),Promise.resolve().then(n.t.bind(n,10159,23)),Promise.resolve().then(n.t.bind(n,89810,23)),Promise.resolve().then(n.t.bind(n,22819,23)),Promise.resolve().then(n.t.bind(n,52341,23)),Promise.resolve().then(n.t.bind(n,57372,23)),Promise.resolve().then(n.t.bind(n,51773,23)),Promise.resolve().then(n.t.bind(n,68827,23)),Promise.resolve().then(n.t.bind(n,25895,23)),Promise.resolve().then(n.t.bind(n,35830,23)),Promise.resolve().then(n.t.bind(n,97613,23)),Promise.resolve().then(n.t.bind(n,55069,23)),Promise.resolve().then(n.t.bind(n,94433,23)),Promise.resolve().then(n.t.bind(n,20528,23)),Promise.resolve().then(n.t.bind(n,41096,23)),Promise.resolve().then(n.t.bind(n,35572,23)),Promise.resolve().then(n.t.bind(n,98487,23)),Promise.resolve().then(n.t.bind(n,93460,23)),Promise.resolve().then(n.t.bind(n,68606,23)),Promise.resolve().then(n.t.bind(n,73867,23)),Promise.resolve().then(n.t.bind(n,42192,23)),Promise.resolve().then(n.t.bind(n,41025,23)),Promise.resolve().then(n.t.bind(n,30380,23)),Promise.resolve().then(n.t.bind(n,4545,23)),Promise.resolve().then(n.t.bind(n,14905,23)),Promise.resolve().then(n.t.bind(n,59520,23)),Promise.resolve().then(n.t.bind(n,84420,23)),Promise.resolve().then(n.t.bind(n,99784,23)),Promise.resolve().then(n.t.bind(n,91620,23)),Promise.resolve().then(n.t.bind(n,34887,23)),Promise.resolve().then(n.t.bind(n,79787,23)),Promise.resolve().then(n.t.bind(n,28613,23)),Promise.resolve().then(n.t.bind(n,36081,23)),Promise.resolve().then(n.t.bind(n,80799,23)),Promise.resolve().then(n.t.bind(n,68542,23)),Promise.resolve().then(n.t.bind(n,4585,23)),Promise.resolve().then(n.t.bind(n,30800,23)),Promise.resolve().then(n.t.bind(n,4251,23)),Promise.resolve().then(n.t.bind(n,43584,23)),Promise.resolve().then(n.t.bind(n,72661,23)),Promise.resolve().then(n.t.bind(n,15339,23)),Promise.resolve().then(n.t.bind(n,83418,23)),Promise.resolve().then(n.t.bind(n,11645,23)),Promise.resolve().then(n.t.bind(n,62282,23)),Promise.resolve().then(n.t.bind(n,17571,23)),Promise.resolve().then(n.t.bind(n,6512,23)),Promise.resolve().then(n.t.bind(n,74025,23)),Promise.resolve().then(n.t.bind(n,20602,23)),Promise.resolve().then(n.t.bind(n,28756,23)),Promise.resolve().then(n.t.bind(n,38476,23)),Promise.resolve().then(n.t.bind(n,25563,23)),Promise.resolve().then(n.t.bind(n,3507,23)),Promise.resolve().then(n.t.bind(n,55967,23)),Promise.resolve().then(n.t.bind(n,41588,23)),Promise.resolve().then(n.t.bind(n,19173,23)),Promise.resolve().then(n.t.bind(n,39942,23)),Promise.resolve().then(n.t.bind(n,8308,23)),Promise.resolve().then(n.t.bind(n,15433,23)),Promise.resolve().then(n.t.bind(n,378,23)),Promise.resolve().then(n.t.bind(n,84490,23)),Promise.resolve().then(n.t.bind(n,48791,23)),Promise.resolve().then(n.t.bind(n,46220,23)),Promise.resolve().then(n.t.bind(n,3319,23)),Promise.resolve().then(n.t.bind(n,42595,23)),Promise.resolve().then(n.t.bind(n,53224,23)),Promise.resolve().then(n.t.bind(n,49276,23)),Promise.resolve().then(n.t.bind(n,2429,23)),Promise.resolve().then(n.t.bind(n,37076,23)),Promise.resolve().then(n.t.bind(n,91783,23)),Promise.resolve().then(n.t.bind(n,2691,23)),Promise.resolve().then(n.t.bind(n,15666,23)),Promise.resolve().then(n.t.bind(n,98935,23)),Promise.resolve().then(n.t.bind(n,82487,23)),Promise.resolve().then(n.t.bind(n,13599,23)),Promise.resolve().then(n.t.bind(n,36831,23)),Promise.resolve().then(n.bind(n,74640)),Promise.resolve().then(n.bind(n,868)),Promise.resolve().then(n.bind(n,89668)),Promise.resolve().then(n.bind(n,11206)),Promise.resolve().then(n.bind(n,89122)),Promise.resolve().then(n.bind(n,35945)),Promise.resolve().then(n.bind(n,12991)),Promise.resolve().then(n.bind(n,1096)),Promise.resolve().then(n.bind(n,81328)),Promise.resolve().then(n.bind(n,38969)),Promise.resolve().then(n.bind(n,4677)),Promise.resolve().then(n.bind(n,90776)),Promise.resolve().then(n.bind(n,98741)),Promise.resolve().then(n.bind(n,20282)),Promise.resolve().then(n.bind(n,14175)),Promise.resolve().then(n.bind(n,20094)),Promise.resolve().then(n.bind(n,39880)),Promise.resolve().then(n.bind(n,21905)),Promise.resolve().then(n.bind(n,25640)),Promise.resolve().then(n.bind(n,20622)),Promise.resolve().then(n.bind(n,47398)),Promise.resolve().then(n.bind(n,66201)),Promise.resolve().then(n.bind(n,59937)),Promise.resolve().then(n.bind(n,77090)),Promise.resolve().then(n.bind(n,43818)),Promise.resolve().then(n.bind(n,22702)),Promise.resolve().then(n.bind(n,97658)),Promise.resolve().then(n.bind(n,29978)),Promise.resolve().then(n.bind(n,35326)),Promise.resolve().then(n.bind(n,96508)),Promise.resolve().then(n.bind(n,15646)),Promise.resolve().then(n.bind(n,88160)),Promise.resolve().then(n.bind(n,64645)),Promise.resolve().then(n.bind(n,22311)),Promise.resolve().then(n.bind(n,79511)),Promise.resolve().then(n.bind(n,62117)),Promise.resolve().then(n.bind(n,5094)),Promise.resolve().then(n.bind(n,57292)),Promise.resolve().then(n.bind(n,34655)),Promise.resolve().then(n.bind(n,90856)),Promise.resolve().then(n.bind(n,188)),Promise.resolve().then(n.bind(n,61799)),Promise.resolve().then(n.bind(n,52271)),Promise.resolve().then(n.bind(n,52422)),Promise.resolve().then(n.bind(n,48614)),Promise.resolve().then(n.bind(n,13896)),Promise.resolve().then(n.bind(n,45009)),Promise.resolve().then(n.bind(n,58946)),Promise.resolve().then(n.bind(n,35339)),Promise.resolve().then(n.bind(n,36279)),Promise.resolve().then(n.bind(n,98716)),Promise.resolve().then(n.bind(n,5252)),Promise.resolve().then(n.bind(n,94504)),Promise.resolve().then(n.bind(n,85030)),Promise.resolve().then(n.bind(n,74510)),Promise.resolve().then(n.bind(n,17888)),Promise.resolve().then(n.bind(n,45885)),Promise.resolve().then(n.bind(n,40026)),Promise.resolve().then(n.bind(n,10753)),Promise.resolve().then(n.bind(n,5282)),Promise.resolve().then(n.bind(n,42920)),Promise.resolve().then(n.bind(n,35442)),Promise.resolve().then(n.bind(n,95137)),Promise.resolve().then(n.bind(n,37160)),Promise.resolve().then(n.bind(n,49032)),Promise.resolve().then(n.bind(n,57275)),Promise.resolve().then(n.bind(n,3371)),Promise.resolve().then(n.bind(n,59050)),Promise.resolve().then(n.bind(n,82255)),Promise.resolve().then(n.bind(n,27229)),Promise.resolve().then(n.bind(n,58637)),Promise.resolve().then(n.bind(n,50384)),Promise.resolve().then(n.bind(n,94256)),Promise.resolve().then(n.bind(n,56373)),Promise.resolve().then(n.bind(n,53158)),Promise.resolve().then(n.bind(n,82586)),Promise.resolve().then(n.bind(n,54092)),Promise.resolve().then(n.bind(n,57287)),Promise.resolve().then(n.bind(n,79670)),Promise.resolve().then(n.bind(n,46405)),Promise.resolve().then(n.bind(n,76162)),Promise.resolve().then(n.bind(n,22743)),Promise.resolve().then(n.bind(n,76100)),Promise.resolve().then(n.bind(n,44958)),Promise.resolve().then(n.bind(n,39401)),Promise.resolve().then(n.bind(n,40928)),Promise.resolve().then(n.bind(n,17153)),Promise.resolve().then(n.bind(n,15566)),Promise.resolve().then(n.bind(n,77833)),Promise.resolve().then(n.bind(n,70549)),Promise.resolve().then(n.bind(n,33123)),Promise.resolve().then(n.bind(n,14129)),Promise.resolve().then(n.bind(n,6234)),Promise.resolve().then(n.bind(n,61389)),Promise.resolve().then(n.bind(n,17117)),Promise.resolve().then(n.bind(n,28318)),Promise.resolve().then(n.bind(n,7601)),Promise.resolve().then(n.bind(n,98189)),Promise.resolve().then(n.bind(n,63869)),Promise.resolve().then(n.bind(n,62468)),Promise.resolve().then(n.bind(n,11338)),Promise.resolve().then(n.bind(n,70702)),Promise.resolve().then(n.bind(n,2775)),Promise.resolve().then(n.bind(n,18125)),Promise.resolve().then(n.bind(n,5978)),Promise.resolve().then(n.bind(n,47854)),Promise.resolve().then(n.bind(n,22317)),Promise.resolve().then(n.bind(n,69397)),Promise.resolve().then(n.bind(n,90528)),Promise.resolve().then(n.bind(n,28393)),Promise.resolve().then(n.bind(n,39218)),Promise.resolve().then(n.bind(n,1170)),Promise.resolve().then(n.bind(n,70332)),Promise.resolve().then(n.bind(n,51188)),Promise.resolve().then(n.bind(n,29023)),Promise.resolve().then(n.bind(n,84262)),Promise.resolve().then(n.bind(n,8802)),Promise.resolve().then(n.bind(n,74988)),Promise.resolve().then(n.bind(n,84220)),Promise.resolve().then(n.bind(n,68898)),Promise.resolve().then(n.bind(n,50614))},22702:(e,t,n)=>{"use strict";n.d(t,{default:()=>_});var r=n(2619),i=n(38656),s=n(7532),o=n(59992),l=n(12108),a=n(48335),d=n(32285),c=n(29049),m=n(94100);let h=function(){let e,t,n=(0,d.c)(2);n[0]===Symbol.for("react.memo_cache_sentinel")?(e=new URLSearchParams({ts:Date.now().toString()}),n[0]=e):e=n[0];let r=e;return n[1]===Symbol.for("react.memo_cache_sentinel")?(t={cacheKey:"generateGiftTokenPersonal",url:m.h9,searchParams:r,fetchOptions:{method:"GET"},clientOptions:{useErrorBoundary:!1,cacheTime:0,retry:!1}},n[1]=t):t=n[1],(0,c.A)(t)};var u=n(46272),b=n(88114),v=n(76873),P=n(8593),f=n(82155),p=n(68151),g=n(36058);let y={popover:{i6:"iGHZBW",ba:"fyHdVr",f6:"iKTruj",hA_Dhhn:{i6:"gKVPal"}},countText:{76:"hBVYrM",bu:"iLdtFu"},exceededText:{kl:"bWNKbL"},exceededPopover:{id:"juqWaP",i6:"iNxHM"},popoverBorder:{kr:"kVZHcH",ko:"dwawJR",kh:"iATxZH",kn:"jQenOz"},salesBtn:{d4:"kAAWGT",ba:"dPVLzs"}},A=i.A.get("promotionUrl"),x=`${A}/offers?htm_source=site&htm_medium=button&htm_campaign=gift&htm_content=subscribe`,k={feature:"Article Page - Gift Icon",feature_type:"Content",campaign_name:"Gift article"};function _(e){let{clickAreaStyleExtend:t,iconStyleExtend:n,offsetValue:i,canonicalUrl:d,title:c,id:m}=e,A=(0,s.Ay)(),_=(0,o.A)(),S=(0,l.Ay)("cookieValue"),j=(0,v.A)(),C="paying"===S.userType,E=f.useRef(null),[T,R]=f.useState(!1),[I,G]=f.useState(10),[B,D]=f.useState(C?null:"nonPaying"),z=h(),[N,L]=f.useState(!1),[V,F]=f.useState(!0),[W,U]=f.useState(null),[M,$]=f.useState(null),O="mobile"===_,H=c?c.replace(/<\/?strong\b[^>]*>/g,""):null,K=`קיבלת במתנה כתבה מהארץ!
${H||c}`;f.useEffect(()=>{M&&(window.location.href=M,$(null))},[M]);let X=async e=>{let t={text:K,url:e};navigator?.canShare&&navigator?.canShare(t)&&O?await navigator.share(t):D("success")},Z=async()=>{C&&(F(!T),V&&!W?z.mutate({articleId:A||""},{onSuccess:async e=>{let{status:t,count:n,token:r}=e;if("exceeded"===t)G(n),D("exceeded");else if("ok"===t&&r){let e=`${d}?gift=${r}`;U(e),X(e)}else D("error")},onError:e=>{console.error(e),D("error")}}):W&&X(W))};function Y(e){R(e),e?j({...k,action_id:169}):N&&L(!1)}let q={styleExtend:[y.popover],onToggle:Y,onClose:()=>{R(!1),N&&L(!1)},popoverType:B},J={success:(0,r.jsx)(g.A,{title:"Gift article",subTitle:"Share open articles to friends and family",btn1:{text:N?"Link copied":"Copy link",icon:N?"check":"link",iconVariant:N?"success":"brand",onClick:()=>{W&&(navigator?.clipboard?.writeText(W),L(!0),j({...k,action_id:169,campaign_details:"Gift sent from subscriber - copy link"}))}},btn2:{text:"Share on WhatsApp",icon:"whatsapp",onClick:()=>{if(!W)return;let e=encodeURIComponent(`${K}
${W}`),t=`${O?"whatsapp://":"https://web.whatsapp.com/"}send?text=${e}`;O?$(t):window.open(t,"popup","width=635,height=800,scrollbars=no,resizable=no,toolbar=no,directories=no,location=no,menubar=no,status=no"),j({...k,action_id:169,campaign_details:"Gift sent from subscriber - whatsapp"})}},...q,biData:{feature:"Web gift popup - subs",feature_type:"Content",campaign_name:"Gift article",campaign_details:"Gift article"},enableFomoTooltip:!0,fomoTooltipProps:{text:"Want to continue gifting articles?",buttonText:"Renew subscription"}}),exceeded:(0,r.jsx)(g.A,{...q,styleExtend:[y.exceededPopover],biData:{feature:"Web gift popup - subs",feature_type:"Content",campaign_name:"Gift article",campaign_details:"subscriber exceeded max gifts"},children:(0,r.jsx)("div",{className:(0,p.A)(y.exceededText),children:(0,r.jsx)(w,{giftCount:I})})}),error:(0,r.jsx)(g.A,{...q,children:"Unable to send gifts at the moment. Please try again later"}),nonPaying:(0,r.jsx)(g.A,{title:"Gift article",subTitle:"Subscribers can share open articles to friends and family",btn1:{text:"Subscribe",buttonComponent:{variant:"sales",href:x},styleExtend:[y.salesBtn],onClick:()=>{j({feature:"Web gift popup - non subs",feature_type:"Content",campaign_name:"Gift article",campaign_details:"Subscribe to send gift article",action_id:3})}},...q,biData:{feature:"Web gift popup - non subs",feature_type:"Content",campaign_name:"Gift article",campaign_details:"Subscribe to send gift article"}})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.Ay,{styleExtend:t,rippleSize:"small",onClick:Z,ref:E,disabled:C&&z.isLoading,"data-testid":"gift-btn",title:"Gift this article",id:m,children:[(0,r.jsx)(u.A,{icon:"gift",styleExtend:n,variant:"neutral"}),(0,r.jsx)(P.Ay,{children:"Gift this article"})]}),(0,r.jsx)(b.default,{refersToRef:E,onToggle:Y,isOpen:T,placement:"bottom",offsetValue:i,styleExtend:[y.popoverBorder],keepInView:!0,children:B&&J[B]})]})}function w(e){let{giftCount:t}=e,n=(0,r.jsx)("span",{className:(0,p.A)(y.countText),children:t});return(0,r.jsxs)(r.Fragment,{children:["You have sent ",n," articles as gifts this month. Starting next month, you will be able to send ",t," more articles."]})}},35326:(e,t,n)=>{"use strict";n.d(t,{default:()=>c});var r=n(32285),i=n(2619),s=n(59992),o=n(48335),l=n(46272),a=n(76873),d=n(8593);function c(e){let t,n,c=(0,r.c)(9),{clickAreaStyleExtend:m,iconStyleExtend:h,canonicalUrl:u,id:b}=e,v=(0,s.A)(),P=(0,a.A)(),f="mobile"===v,p=`${f?"whatsapp://":"https://web.whatsapp.com/"}send?text=${u}${encodeURIComponent("?utm_source=Web_Share&utm_medium=Whatsapp&utm_campaign=Share")}`,g=f?void 0:"_blank";c[0]!==P?(t=()=>{P({feature:"Article Page - Whatsapp Share Button",feature_type:"Content",action_id:11})},c[0]=P,c[1]=t):t=c[1];let y=t;return c[2]!==m||c[3]!==h||c[4]!==b||c[5]!==y||c[6]!==g||c[7]!==p?(n=(0,i.jsxs)(o.Ay,{as:"a",href:p,styleExtend:m,rippleSize:"small","data-testid":"whatsapp-btn",target:g,onClick:y,title:"Share on Whatsapp",id:b,children:[(0,i.jsx)(l.A,{icon:"whatsapp",styleExtend:h,variant:"neutral"}),(0,i.jsx)(d.Ay,{children:"Share on Whatsapp"})]}),c[2]=m,c[3]=h,c[4]=b,c[5]=y,c[6]=g,c[7]=p,c[8]=n):n=c[8],n}},36831:()=>{},37076:()=>{},42595:()=>{},43818:(e,t,n)=>{"use strict";n.d(t,{default:()=>m});var r=n(32285),i=n(2619),s=n(48335),o=n(46975),l=n(46272),a=n(76873),d=n(8593);n(68151);let c={clickArea:{95:"gSBWlu","7o":"cUcBkx",ef:"kllcGV"}};function m(e){let t,n,m,h=(0,r.c)(13),{clickAreaStyleExtend:u,iconStyleExtend:b,canonicalUrl:v,id:P}=e;h[0]!==u?(t=void 0===u?[]:u,h[0]=u,h[1]=t):t=h[1];let f=t,p=(0,a.A)();h[2]!==v?(n=()=>{let e=`https://www.facebook.com/sharer/sharer.php?u=${v}`;window.open(e)},h[2]=v,h[3]=n):n=h[3];let g=n;if(h[4]!==p||h[5]!==f||h[6]!==g||h[7]!==b||h[8]!==P){let e;h[10]!==p||h[11]!==g?(e=()=>{g(),p({feature:"Article Page - Share to Facebook",feature_type:"Content",action_id:10})},h[10]=p,h[11]=g,h[12]=e):e=h[12],m=(0,i.jsxs)(s.Ay,{as:o.A,styleExtend:[c.clickArea,...f],rippleSize:"small",href:"#facebook-section","data-testid":"facebook-btn",title:"Share to Facebook",id:P,onClick:e,children:[(0,i.jsx)(l.A,{icon:"facebook-round",styleExtend:b,variant:"neutral"}),(0,i.jsx)(d.Ay,{children:"Share to Facebook"})]}),h[4]=p,h[5]=f,h[6]=g,h[7]=b,h[8]=P,h[9]=m}else m=h[9];return m}},49032:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(2619),i=n(68644),s=n(12108),o=n(12991),l=n(87503),a=n(57228),d=n(28256),c=n(21458),m=n(58714),h=n(46975),u=n(76873),b=n(82155),v=n(68151);function P(e){let{name:t,contentId:n,url:l,asLink:P=!1}=e,p=(0,s.Ay)("cookieValue"),g=b.useRef(null),[y,A]=b.useState(!1),[x]=b.useState(p.isLoggedIn),[k,_]=b.useState(!1),w=(0,u.A)(),{data:S,isSuccess:j}=(0,c.A)({resourceId:n,resourceType:"articleTag",site:m._P,email:p?.userMail}),C={campaign_name:"follow tag",feature:"TagAlert - article page",feature_type:"Content",newsletter_segment_id:n,newsletter_segment_name:t,newsletter_email:p.userMail},E=(0,a.A)(),T=(0,d.A)(),R=async()=>{y||(E.mutate({site:m._P,resourceId:n}),A(!0),w({action_id:9,campaign_details:"follow",...C})),y&&(T.mutate({json:"true",site:m._P,resourceId:n}),A(!1),w({action_id:8,campaign_details:"unfollow",...C}))};return(b.useEffect(()=>{A(!!S?.subscribed)},[S?.subscribed,j]),t&&n)?P?(0,r.jsx)(h.A,{href:l,className:(0,v.A)(o.chipBaseStyle),children:t}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f,{isRegistered:y,isLoggedIn:x,onClick:R,onClickAnonymous:()=>{w({action_id:91,campaign_details:"open UI",campaign_name:"follow tag",feature:"TagAlert - article page",feature_type:"Content",newsletter_segment_id:n,newsletter_segment_name:t})},tagRef:g,name:t}),x?null:(0,r.jsx)(i.A,{setRegistrationSuccess:A,isOpenFromParent:k,contentId:n,resourceType:"tag",onToggle:e=>{_(e)},refersToRef:g,popoverPlacement:"top-start",tagName:t})]}):null}function f(e){return(0,r.jsx)(l.Ay,{as:"button",kind:"pressable",isPressed:e.isRegistered,onClick:e.isLoggedIn?e.onClick:e.onClickAnonymous,ref:e.tagRef,children:e.name})}function p(e){return(0,r.jsx)(b.Suspense,{fallback:(0,r.jsx)(f,{name:e.name,isRegistered:!1,isLoggedIn:!1}),children:(0,r.jsx)(P,{...e})})}},49276:()=>{},53224:()=>{},62468:(e,t,n)=>{"use strict";n.d(t,{default:()=>g});var r=n(2619),i=n(45195),s=n(12108),o=n(38880),l=n(58714),a=n(67356),d=n(46272),c=n(50725),m=n(76873),h=n(83449),u=n(8593),b=n(82155),v=n(68151);let P={base:{"1x":"fozssY",ci:"cgtMrY",ce:"TSpXR"},pullDown:{fu:"dXxCEX"},title:{bu:"iLdtFu",ba:"iKjpVA",f6:"cVaJzg",durFye:{ba:"hauAvq",f6:"fKdRdV"}},paywallText:{az:"cFGWDo",durFye:{ba:"ecfhKk",f6:"klepka"}},closeBtn:{4:"foGVKH",95:"gSBWlu","1x":"ecNEpg",ba:"hkDjJj",ef:"IVbXa",d4:"cWFuRD",bIphqo:"eUirwo",eIHxDx:{ba:"fqgvwS",d4:"hqPcqw"}},regularBtn:{"1x":"ecNEpg",fKfEFl:{"1x":"NFulG"},eSaxtD:{"1x":"gIXsZA"}},labelBtn:{76:"jPGkzy","1x":"jXMUDl",fKfEFl:{"1x":"eSrXxA"},eSaxtD:{"1x":"hsMghj"}},header:{4:"foGVKH",95:"gSBWlu","7o":"haEjPJ",ue:"cRUUAa","8x":"jsvbrX"},description:{kr:"dmKgnC",ko:"gcnSZS",kn:"hHZVWs",kh:"eayRfw",fQdabW:{kr:"jVuyWd",kh:"iIDVhl"},XBEFd:{kr:"kBBRGt",kh:"laFScB"},LoNYL:{ko:"liNAVd",kn:"ksdfHT",kh:"bAGpzR"}},paywall:{kr:"bKjKUN",kh:"bnHxUw",ko:"ftIldC",kn:"iDuqPI",ba:"jrcYoY",f6:"oZPxp",fQdabW:{kr:"ivOnmH",kh:"hcvRcP",ko:"kXiRgE",kn:"iUeBXE"}},loginText:{g7:"fClzDx"},icon:{ba:"cypeLb",t5:"nplEL",ti:"iaemGh",td:"PQKIY",eIHxDx:{ba:"lnHCYU"}},iconIsOpen:{se:"irojIS"},iconIsClosed:{se:"dqImtA"},purchaseBtn:{g7:"fClzDx",ue:"SNeuc"}},f="Subscribe now";function p(e){let{wordCount:t,children:n,pullDown:a}=e,[p,g]=b.useState(!1),y=(0,i.A)(),A=(0,s.Ay)("cookieValue"),[x,k]=b.useState(!1),_=b.useRef(null),w=b.useRef(null),S=(0,m.A)();b.useEffect(()=>{k("paying"===A.userType)},[A.userType]);let j=(t||0)>0?`Article summary in ${t} words`:"TLDR up to 100 words",C=x||y?j:"Would you like us to summarize articles for you?",E={feature:"TLDR",feature_type:"Content",campaign_name:"TLDR",campaign_details:C},T=x||y?(0,r.jsx)("div",{className:(0,v.A)(P.description),children:n}):(0,r.jsxs)("div",{className:(0,v.A)(P.paywall),ref:w,children:[(0,r.jsx)("p",{className:(0,v.A)(P.paywallText),children:"Subscribe now to Haaretz to enjoy unlimited access and special features, available to subscribers only"}),(0,r.jsx)(o.Ay,{as:"a",href:`https://promotion.${l.OI}/?htm_source=site&htm_medium=button&htm_campaign=TLDR&htm_content=subscribe`,variant:"sales",styleExtend:[P.purchaseBtn],onClick:()=>S({...E,campaign_details:f,action_id:3}),children:f}),(0,r.jsxs)("p",{className:(0,v.A)(P.paywallText,P.loginText),children:["Already signed up?"," ",(0,r.jsx)(c.A,{href:`https://login.${l.OI}/?htm_source=site&htm_medium=tldr&htm_campaign=subscribe&htm_content=login`,children:"Log in"})]})]});return(0,h.A)({elementRef:_,biData:E}),(0,h.A)({elementRef:w,biData:{...E,campaign_details:f}}),(0,r.jsxs)("aside",{className:`${(0,v.A)(P.base,a&&P.pullDown)} no-print`,ref:_,children:[(0,r.jsxs)("div",{className:(0,v.A)(P.header),onClick:()=>{p||S({...E,action_id:162}),g(e=>!e)},children:[(0,r.jsxs)("button",{className:(0,v.A)(P.closeBtn,y?P.labelBtn:P.regularBtn),children:[(0,r.jsx)(d.A,{icon:"plus",styleExtend:[P.icon,p?P.iconIsClosed:P.iconIsOpen],inlineStyle:{"--icon-color-override":"rgb(var(--c-tldrIcon))"}}),(0,r.jsx)(u.Ay,{children:"expand"})]}),(0,r.jsx)("h3",{className:(0,v.A)(P.title),children:C})]}),p?T:null]})}function g(e){return(0,r.jsx)(a.Ay,{children:(0,r.jsx)(p,{...e})})}},74640:(e,t,n)=>{"use strict";n.d(t,{default:()=>d});var r=n(2619),i=n(32285),s=n(82933),o=n(67356),l=n(82155);function a(e){let t,n,r=(0,i.c)(4),{coverColor:o}=e,a=(0,s.useSetArticleCoverColor)();return r[0]!==o||r[1]!==a?(t=()=>(a(o),()=>{a(null)}),n=[o,a],r[0]=o,r[1]=a,r[2]=t,r[3]=n):(t=r[2],n=r[3]),l.useEffect(t,n),null}function d(e){let t,n=(0,i.c)(2);return n[0]!==e?(t=(0,r.jsx)(o.Ay,{children:(0,r.jsx)(a,{...e})}),n[0]=e,n[1]=t):t=n[1],t}},77090:(e,t,n)=>{"use strict";n.d(t,{default:()=>A});var r=n(32285),i=n(2619),s=n(48335),o=n(46975),l=n(46272),a=n(76873),d=n(8593),c=n(68151),m=n(7532),h=n(53288),u=n(78684),b=n(94100);let v=function(e){let t,n,i,s,o=(0,r.c)(8),{enabled:l}=e,a=(0,m.Ay)();o[0]!==a?(t=new URLSearchParams((0,h.A)({action:"totalCount",articleId:a})),o[0]=a,o[1]=t):t=o[1];let d=t;return o[2]===Symbol.for("react.memo_cache_sentinel")?(n={method:"GET"},o[2]=n):n=o[2],o[3]!==l?(i={cacheTime:6e4,staleTime:6e4,retry:!1,enabled:l},o[3]=l,o[4]=i):i=o[4],o[5]!==d||o[6]!==i?(s={cacheKey:"commentsCount",url:b.j7,searchParams:d,fetchOptions:n,clientOptions:i},o[5]=d,o[6]=i,o[7]=s):s=o[7],(0,u.A)(s)};var P=n(82155);let f={base:{ba:"gVscJz",f6:"kvNqZl",bmDBbg:{ba:"gPowFU",f6:"eaJJqD"}}};function p(e){let t,n,s,o,l,a=(0,r.c)(9),{textStyleExtend:d}=e;a[0]!==d?(t=void 0===d?[]:d,a[0]=d,a[1]=t):t=a[1];let m=t,[h,u]=P.useState(0);a[2]===Symbol.for("react.memo_cache_sentinel")?(n={enabled:!0},a[2]=n):n=a[2];let{data:b}=v(n),p=b?.totalCount;return a[3]!==p?(s=()=>{p&&u(p)},o=[p],a[3]=p,a[4]=s,a[5]=o):(s=a[4],o=a[5]),P.useEffect(s,o),a[6]!==m||a[7]!==h?(l=h>0?(0,i.jsx)("span",{"data-test":"total-comments-count",className:(0,c.A)(f.base,...m),children:h}):null,a[6]=m,a[7]=h,a[8]=l):l=a[8],l}function g(e){return(0,i.jsx)(P.Suspense,{fallback:null,children:(0,i.jsx)(p,{...e})})}let y={clickArea:{95:"gSBWlu","7o":"cUcBkx",ef:"kllcGV"}};function A(e){let t,n,c=(0,r.c)(10),{clickAreaStyleExtend:m,iconStyleExtend:h,textStyleExtend:u,id:b}=e;c[0]!==m?(t=void 0===m?[]:m,c[0]=m,c[1]=t):t=c[1];let v=t,P=(0,a.A)();if(c[2]!==P||c[3]!==v||c[4]!==h||c[5]!==b||c[6]!==u){let e;c[8]!==P?(e=()=>{P({feature:"Article Page - Skip to Comments",feature_type:"Content",action_id:111})},c[8]=P,c[9]=e):e=c[9],n=(0,i.jsxs)(s.Ay,{as:o.A,styleExtend:[y.clickArea,...v],rippleSize:"small",href:"#comments-section","data-testid":"comments-btn",title:"Comments",id:b,onClick:e,children:[(0,i.jsx)(l.A,{icon:"comments",styleExtend:h,variant:"neutral"}),(0,i.jsx)(d.Ay,{children:"Comments: "}),(0,i.jsx)(g,{textStyleExtend:u})]}),c[2]=P,c[3]=v,c[4]=h,c[5]=b,c[6]=u,c[7]=n}else n=c[7];return n}},82487:()=>{},82933:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ArticleCoverColorProvider:()=>d,default:()=>c,useArticleCoverColorAtom:()=>h,useSetArticleCoverColor:()=>m});var r=n(32285),i=n(2619);let s=["athena","black","herra","neutral","venus","yellow"];var o=n(82155);let l=o.createContext(void 0),a=o.createContext(void 0);function d(e){let t,n,d=(0,r.c)(4),{children:c,value:m}=e,[h,u]=o.useState(m);d[0]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{u(s.includes(e)?e:null)},d[0]=t):t=d[0];let b=t;return d[1]!==h||d[2]!==c?(n=(0,i.jsx)(l,{value:h,children:(0,i.jsx)(a,{value:b,children:c})}),d[1]=h,d[2]=c,d[3]=n):n=d[3],n}function c(){let e=o.use(l);if(void 0===e)throw Error("useArticleCoverColor must be used within a ArticleCoverColorProvider");return e}function m(){let e=o.use(a);if(void 0===e)throw Error("useSetArticleCoverColor must be used within a ArticleCoverColorProvider");return e}function h(){let e,t=(0,r.c)(3),n=c(),i=m();return t[0]!==n||t[1]!==i?(e=[n,i],t[0]=n,t[1]=i,t[2]=e):e=t[2],e}},83985:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=n(8273).A},88160:(e,t,n)=>{"use strict";n.d(t,{default:()=>d});var r=n(32285),i=n(2619),s=n(67356),o=n(46975),l=n(76873);function a(e){let t,n,s=(0,r.c)(7),{href:a,children:d}=e,c=(0,l.A)();s[0]!==c||s[1]!==d?(t=()=>{c({feature_type:"content",feature:"breadcrumbs",campaign_details:d,action_id:153})},s[0]=c,s[1]=d,s[2]=t):t=s[2];let m=t;return s[3]!==m||s[4]!==d||s[5]!==a?(n=(0,i.jsx)(o.A,{href:a,onClick:m,children:d}),s[3]=m,s[4]=d,s[5]=a,s[6]=n):n=s[6],n}function d(e){let{children:t,...n}=e;return(0,i.jsx)(s.Ay,{children:(0,i.jsx)(a,{...n,children:t})})}n(82155)},89122:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var r=n(32285),i=n(82155);function s(e){let t,n,s=(0,r.c)(3),{targeting:a}=e;return s[0]!==a?(t=()=>{window.googletag=window.googletag||{cmd:[]};let e=Array.isArray(a)?a:[a];return e.forEach(l),()=>{window.googletag.cmd.push(()=>{e.forEach(o)})}},n=[a],s[0]=a,s[1]=t,s[2]=n):(t=s[1],n=s[2]),(0,i.useEffect)(t,n),null}function o(e){let{key:t}=e;googletag.pubads().clearTargeting(t)}function l(e){let{key:t,value:n}=e,r="function"==typeof n?n():n;window.googletag.cmd.push(()=>{googletag.pubads().setTargeting(t,r)})}},91783:()=>{},96508:(e,t,n)=>{"use strict";n.d(t,{default:()=>m});var r=n(32285),i=n(2619),s=n(48335),o=n(46975),l=n(46272),a=n(76873),d=n(8593);n(68151);let c={clickArea:{95:"gSBWlu","7o":"cUcBkx",ef:"kllcGV"}};function m(e){let t,n,m,h=(0,r.c)(12),{clickAreaStyleExtend:u,iconStyleExtend:b,canonicalUrl:v,headline:P,id:f}=e;h[0]!==u?(t=void 0===u?[]:u,h[0]=u,h[1]=t):t=h[1];let p=t,g=(0,a.A)(),y=`https://x.com/intent/tweet?text=${P}&url=${v}`;h[2]!==g?(n=()=>{g({feature:"Article Page - Share to X",feature_type:"Content",action_id:12})},h[2]=g,h[3]=n):n=h[3];let A=n;if(h[4]!==p||h[5]!==A||h[6]!==b||h[7]!==f||h[8]!==y){let e;h[10]!==A?(e=()=>{A()},h[10]=A,h[11]=e):e=h[11],m=(0,i.jsxs)(s.Ay,{as:o.A,styleExtend:[c.clickArea,...p],rippleSize:"small",href:y,target:"_blank","data-testid":"facebook-btn",title:"Share to X",id:f,onClick:e,children:[(0,i.jsx)(l.A,{icon:"x-round",styleExtend:b,variant:"neutral"}),(0,i.jsx)(d.Ay,{children:"Share to X"})]}),h[4]=p,h[5]=A,h[6]=b,h[7]=f,h[8]=y,h[9]=m}else m=h[9];return m}},97658:(e,t,n)=>{"use strict";n.d(t,{default:()=>h});var r=n(32285),i=n(2619),s=n(12108),o=n(48335),l=n(10547),a=n(46272),d=n(8593),c=n(82155);n(68151);let m={hideOnMobileDevices:{cnmStr:{95:"cvXmHR"}}};function h(e){let t,n,h,u,b=(0,r.c)(10),{clickAreaStyleExtend:v,iconStyleExtend:P,id:f}=e;b[0]!==v?(t=void 0===v?[]:v,b[0]=v,b[1]=t):t=b[1];let p=t,[g,y]=c.useState(!1),A="paying"===(0,s.Ay)("cookieValue").userType;b[2]===Symbol.for("react.memo_cache_sentinel")?(n=function(){y(!0)},b[2]=n):n=b[2];let x=n;b[3]===Symbol.for("react.memo_cache_sentinel")?(h=function(){y(!1)},b[3]=h):h=b[3];let k=h;return b[4]!==p||b[5]!==P||b[6]!==f||b[7]!==g||b[8]!==A?(u=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.Ay,{styleExtend:[...p,m.hideOnMobileDevices],rippleSize:"small",onClick:A?window.print:x,"data-testid":"print-btn",title:"Print article",id:f,children:[(0,i.jsx)(a.A,{icon:"printer",styleExtend:P,variant:"neutral"}),(0,i.jsx)(d.Ay,{children:"Print article"})]}),(0,i.jsx)(l.A,{type:"print",isOpen:g,onClose:k})]}),b[4]=p,b[5]=P,b[6]=f,b[7]=g,b[8]=A,b[9]=u):u=b[9],u}}},e=>{e.O(0,[1271,4702,8242,5708,3562,8984,3229,2210,8498,4933,622,7228,6406,1815,9562,3537,6013,7358],()=>e(e.s=21200)),_N_E=e.O()}]);
//# sourceMappingURL=page-fcd736cfa51b2f93.js.map