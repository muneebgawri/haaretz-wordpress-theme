"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3118],{46941:function(e,t,r){var n=r(31737),o=r(99276),i=r(32735),l=r(72708),a=r(99),s=r(2637),u=r(14388),c=r(19327),d=r(69236),m=r(28918),f=r(31099),b=r(6781),p=r.n(b),v=r(74512);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}S.defaultProps={breakpoints:[],observerRef:{current:null},articleHeadRef:{current:null},observerSettingsFromProps:{root:null,threshold:0}};var y=null;function S(e){var t=e.breakpoints,r=void 0===t?[]:t,n=e.observerRef,b=e.articleHeadRef,g=e.observerSettingsFromProps,S=(0,f.DN)().biImpression,Z=i.useRef([]),j=(0,a.Z)().css,I=(0,m.Z)().isIPhone,O=i.useRef(null),x=i.useState(null),P=(0,o.Z)(x,2),w=P[0],B=P[1],T=i.useState(null),k=(0,o.Z)(T,2),N=k[0],C=k[1],L=i.useState(Date.now()),E=(0,o.Z)(L,1)[0],H=(0,s.Z)(),_=(0,c.Z)(),q=(0,d.Z)(),D=i.useState(void 0!==window.deviceId),A=(0,o.Z)(D,2),F=A[0],G=A[1],M=i.useState({abGroup:null,abTestGroupLabel:null,abTestName:null}),R=(0,o.Z)(M,2),U=R[0],W=R[1],z=i.useState(!1),X=(0,o.Z)(z,2),J=X[0],K=X[1],Q=i.useState(0),V=(0,o.Z)(Q,2),Y=V[0],$=V[1],ee=(0,l.Db)(p()),et=(0,o.Z)(ee,1)[0],er=i.useCallback(function(){G(!0)},[]);(0,u.Z)("loadElement",er,!1),i.useLayoutEffect(function(){var e,t,r,o;B(null!==(e=b.current)&&void 0!==e&&e.offsetHeight?(null===(t=n.current)||void 0===t?void 0:t.offsetHeight)+(null===(r=b.current)||void 0===r?void 0:r.offsetHeight):null===(o=n.current)||void 0===o?void 0:o.offsetHeight)},[b,n,w]),i.useEffect(function(){if(F&&q||!w){var e=function(){var e,t,r,o;B(null!==(e=b.current)&&void 0!==e&&e.offsetHeight?(null===(t=n.current)||void 0===t?void 0:t.offsetHeight)+(null===(r=b.current)||void 0===r?void 0:r.offsetHeight):null===(o=n.current)||void 0===o?void 0:o.offsetHeight)};return window.addEventListener("load",e),function(){window.removeEventListener("load",e)}}return function(){}},[q,b,n,w,F]);var en=i.useCallback(function(){H&&(et({variables:{input:{readArticleId:H,viewedArticleIds:null}}}),K(!0))},[et,H]),eo=i.useCallback(function(e){e.forEach(function(e){var t=e.target;if(e.isIntersecting){var o,i,l,a,s=parseFloat(t.getAttribute("data-breakpoint"));if(s>Y){$(s),!J&&r.some(function(e){return e.breakpoint<=s&&e.shouldUpdate})&&en();var u=Date.now();S({feature:"Scroll",featureType:"Content",campaignName:"".concat(100*s),abGroup:U.abGroup,abTestGroupLabel:U.abTestGroupLabel,abTestName:U.abTestName,additionalInfo:h(h({},N?{origin:N}:{}),{},{timeOnArticle:"".concat((u-E)/1e3)})}),B(null!==(o=b.current)&&void 0!==o&&o.offsetHeight?(null===(i=n.current)||void 0===i?void 0:i.offsetHeight)+(null===(l=b.current)||void 0===l?void 0:l.offsetHeight):null===(a=n.current)||void 0===a?void 0:a.offsetHeight)}}})},[Y,J,S,U.abGroup,U.abTestGroupLabel,U.abTestName,N,E,b,n,r,en]);i.useEffect(function(){return w&&(!q||F)&&(y||(y=new IntersectionObserver(eo,g)),Z.current.forEach(function(e){e&&y.observe(e)})),function(){y&&(y.disconnect(),y=null)}},[w,q,F,eo,g]);var ei=i.useCallback(function(e,t){Z.current[t]=e,e&&y&&y.observe(e)},[y]);i.useEffect(function(){var e=sessionStorage.getItem("articleId"),t=sessionStorage.getItem("listOrigin"),r=sessionStorage.getItem("ab_test_group"),n=sessionStorage.getItem("ab_test_name"),o=sessionStorage.getItem("ab_test_group_label");e===H&&(C(t?"editors"===t?"Editors Pick":"similarArticle"===t?"Similar Article":"userHistory"===t?"User History":"TmBooster"===t?"TM Booster":"colFiltering"===t?"Collaborative Filtering":"joni"===t?"Joni":t:null),W({abGroup:r,abTestGroupLabel:o,abTestName:n})),sessionStorage.removeItem("articleId"),sessionStorage.removeItem("listOrigin"),sessionStorage.removeItem("ab_test_group"),sessionStorage.removeItem("ab_test_name"),sessionStorage.removeItem("ab_test_group_label")},[H]),i.useEffect(function(){if(I()){var e=null==O?void 0:O.current;e&&(e.style.WebkitOverflowScrolling="touch")}},[I]);var el=i.useMemo(function(){return r.map(function(e,t){return w?(0,v.jsx)("div",{ref:function(e){return ei(e,t)},"data-breakpoint":e.breakpoint,className:j({position:"absolute",top:"".concat(e.breakpoint*w,"px")})},e.breakpoint):null})},[r,j,w,ei]);return!w||_?null:(0,v.jsx)("div",{ref:O,children:el})}t.Z=S},5388:function(e,t,r){var n=r(31652);r(32735);var o=r(99),i=r(22547),l=r(89973),a=r(57921),s=r(65409),u=r(74512);function c(e){var t=e.children,r=e.hideDivider,c=e.miscStyles,d=e.showBorderTop,m=(0,o.Z)(),f=m.css,b=m.theme;return(0,s.Z)().isPreview?null:(0,u.jsx)(a.Z,{className:f({paddingTop:"3rem",extend:[d?(0,i.Z)("2px",2,"solid",r?"transparent":b.color("primary")):{},b.mq({from:"l",until:"xl"},{paddingInlineStart:"".concat(b.layoutStyle.startColumnPadding,"rem")}),b.mq({from:"xl"},{paddingInlineStart:"".concat(b.layoutStyle.startColumnPaddingXL,"rem")})].concat((0,n.Z)(c?(0,l.Z)(c,b.mq,b.type):[]))}),children:t})}c.defaultProps={hideDivider:!1,miscStyles:null,showBorderTop:!0},t.Z=c},64854:function(e,t,r){r(32735);var n=r(99),o=r(22547),i=r(75498),l=r(74512),a=function(e){var t=e.title,r=e.isInMargin,a=e.id,s=(0,n.Z)(),u=s.css,c=s.theme;return(0,l.jsx)(i.Z,{className:u({color:c.color("layout","sectionTitleA"),fontWeight:"bold",position:"relative",paddingInlineStart:"".concat(c.layoutStyle.startColumnPadding,"rem"),extend:[c.mq({until:"s"},{paddingInlineStart:"".concat(c.layoutStyle.contPaddingS,"rem")}),c.mq({from:"xl"},{paddingInlineStart:"".concat(c.layoutStyle.startColumnPaddingXL,"rem")}),c.type(c.layoutStyle.sectionTitleATypeScaleFromL,{fromBp:"l"}),c.type(1,{untilBp:"l"}),(0,o.Z)("2px",c.layoutStyle.sectionTitleALines,"solid",c.color("layout","sectionTitleA"))]}),id:a,children:r?(0,l.jsx)("div",{className:u({extend:[c.mq({from:"l"},{position:"absolute",overflow:"hidden"}),c.mq({from:"l",until:"xl"},{insetInlineStart:"".concat(c.layoutStyle.startColumnPadding,"rem"),maxWidth:"".concat(c.layoutStyle.startColumnWidthL-c.layoutStyle.startColumnPadding,"rem")}),c.mq({from:"xl"},{insetInlineStart:"".concat(c.layoutStyle.startColumnPaddingXL,"rem"),maxWidth:"".concat(c.layoutStyle.startColumnWidthXL-c.layoutStyle.startColumnPaddingXL,"rem")})]}),children:(0,l.jsx)("span",{children:t})}):t})};a.defaultProps={},t.Z=a},20695:function(e,t,r){r.d(t,{h:function(){return w}});var n,o=r(31737),i=r(31652),l=r(89688);r(32735);var a=r(99),s=r(22547),u=r(89973),c=r(22083),d=r(33108),m=r.n(d),f=r(24438),b=r.n(f),p=r(308),v=r(64826),g=r(54298),h=r(74337),y=r(11175),S=r(74512);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var I=b()(n||(n=(0,l.Z)(["\n  query shareBarData {\n    isMouseStory @client\n  }\n"]))),O=function(e){var t=e.theme,r=e.miscStyles;return{display:"flex",justifyContent:"space-between",fontFamily:t.fontStacks[t.framedFont],extend:[(0,s.Z)({width:"1px",lines:2,style:"solid",color:t.color("shareBar","borderTop")}),t.mq({until:"s"},{display:"none"}),t.mq({until:"l"},{marginTop:"2rem"}),t.mq({from:"l"},{marginTop:"3rem"})].concat((0,i.Z)(r?(0,u.Z)(r,t.mq,t.type):[]))}},x=function(e,t){var r={color:e.color("mobileNav","barIcons"),paddingInlineEnd:0,paddingInlineStart:0,":hover":{color:e.color("mobileNav","barIcons")}};return{right:[j(j({},e.shareBarI18n.mobileFirstShareButtons[0]),{},{buttonStyles:r}),j(j({},e.shareBarI18n.mobileFirstShareButtons[1]),{},{buttonStyles:r})],left:[!e.mobileReadingList||t?{name:e.shareBarI18n.mobileChangingShareButton,buttonStyles:r}:{name:"save",buttonStyles:r,buttonProps:{inMobileMenu:!0}},{name:"mail",buttonStyles:r}]}},P=function(e){var t=e.theme;return j({color:t.color("mobileNav","barIcons"),width:"100%",position:"fixed",zIndex:t.getZIndex(["masthead","mobile"],2),bottom:"0",paddingBottom:"env(safe-area-inset-bottom, 0)",start:"0",display:"grid",gridTemplateAreas:'\n  ".     menuButton ."\n  "right menuButton left"\n  ".     menuButton ."\n  ',gridTemplateColumns:"1fr 11rem 1fr",gridTemplateRows:"0 minmax(6rem, 1fr) 0",gridRowGap:"2rem","-webkit-tap-highlight-color":"transparent"},t.mq({from:"s"},{display:"none"}))};function w(e){e.kicker;var t=e.title,r=e.canonicalUrl,n=(0,a.Z)(),o=n.css,i=n.theme,l=x(i,(0,h.Z)()),s=function(e){return{gridArea:e,display:"grid",gridAutoFlow:"column",gridAutoColumns:"1fr","& > *:not(:last-child)":j({},(0,c.Z)(1,"solid",i.color("neutral","-6")))}};return(0,S.jsx)(g.Z,{children:(0,S.jsxs)("div",{className:o(P),"data-test":"shareBarMobile",children:[(0,S.jsx)(p.Z,{miscStyles:s("right"),elementName:t,elementUrl:r,buttons:l.right,size:4.5}),(0,S.jsx)(p.Z,{miscStyles:s("left"),elementName:t,elementUrl:r,buttons:l.left,size:4.5})]})})}function B(e){var t=e.title,r=e.canonicalUrl,n=e.miscStyles,o=e.isLabel,i=(0,a.Z)({miscStyles:n}),l=i.css,s=i.theme;return(0,y.Z)().isPrint?null:(0,S.jsx)(v.Z,{query:I,children:function(e){var n=e.error,i=e.loading,a=e.data;if(n)return m().error(n),null;if(i)return null;var u=a.isMouseStory,c=s.shareBarI18n.shareButtons({theme:s,isMouseStory:u,isLabel:o});return(0,S.jsxs)(g.Z,{children:[(0,S.jsx)(w,{isLabel:o,title:t,canonicalUrl:r}),(0,S.jsxs)("div",{className:l(O),"data-test":"shareBar",children:[(0,S.jsx)(p.Z,{elementName:t,elementUrl:r,buttons:c.startButtons,size:4}),(0,S.jsx)("div",{className:l({display:"flex"}),children:(0,S.jsx)(p.Z,{elementName:t,elementUrl:r,globalButtonsStyles:{color:s.color("shareBar","button"),":hover":{color:s.color("shareBar","buttonHover")}},globalIconsStyles:{color:s.color("shareBar","button"),":hover":{color:s.color("shareBar","buttonHover")}},buttons:c.endButtons,size:4.5})})]})]})}})}w.defaultProps={kicker:null},B.defaultProps={miscStyles:null,isLabel:!1},t.Z=B}}]);
//# sourceMappingURL=3118.68b85613818a9859.js.map