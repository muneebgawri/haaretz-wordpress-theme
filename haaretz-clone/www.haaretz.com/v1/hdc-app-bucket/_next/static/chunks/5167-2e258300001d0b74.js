(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5167],{11658:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(31737),r=n(17774);n(32735);var s=n(99),a=n(71729),l=n(52293),o=n(74512),u=["size","fill","color","attrs","miscStyles"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){var t=e.size,n=e.fill,i=e.color,l=e.attrs,c=e.miscStyles,d=(0,r.Z)(e,u),p=(0,s.Z)({size:t,fill:n,color:i,miscStyles:c}).css(a.Z);return(0,o.jsxs)("svg",m(m(m({width:"1em",height:"1em",viewBox:"0 0 725.7 725.7",className:p},d),l),{},{"data-test":"IconCheck",children:["  ",(0,o.jsx)("path",{fill:"currentColor",d:"M563.4 228.9L301.5 536.6l-139.2-153 45.6-41.7 75.4 82.8 7.9 8.7 9.2 10.1 8.9-10.4 7.6-8.9L516.6 189l46.8 39.9zm139.5 133.9c0 187.5-152.6 340.1-340.1 340.1S22.7 550.4 22.7 362.8c0-187.5 152.6-340.1 340.1-340.1 46 0 90.7 9.1 132.7 26.9 40.7 17.3 77.2 42 108.5 73.4 31.2 31.3 55.6 67.6 72.6 108 17.6 41.8 26.5 86.2 26.3 131.8zm-26.5.7c0-172.9-140.7-313.6-313.6-313.6S49.3 190.6 49.3 363.5 189.9 677 362.8 677c42.4 0 83.6-8.4 122.4-24.8 37.5-15.9 71.2-38.7 100-67.7 28.7-28.8 51.2-62.3 66.9-99.5 16.3-38.5 24.5-79.4 24.3-121.5z"})]}))}d.defaultProps=l.f},6556:function(e,t,n){"use strict";n(32735);var i=n(99),r=n(11658),s=n(83741),a=n(43799),l=n(32304),o=n(74512),u={"0%":{transform:"scale(0)"},"10%":{transform:"scale(1)"},"90%":{transform:"scale(1)"},"100%":{transform:"scale(0)"}},c=[{until:"s",value:3.9},{from:"s",value:5}];function m(e){var t=e.subscribe,n=e.isSubscribed,m=e.statusUpdateDuration,d=e.requestStatus,p=(0,i.Z)().theme,f=d!==l.Z.idle,b=d===l.Z.error,g=d===l.Z.success;if(b||g){var v={display:"block",margin:"0 auto",animationName:u,animationDuration:"".concat(m,"ms")};return b?(0,o.jsx)(s.Z,{color:"tertiary",size:c,miscStyles:v}):(0,o.jsx)(r.Z,{color:"positive",size:c,miscStyles:v})}return(0,o.jsx)(a.Z,{onClick:t,isBusy:f,isDisabled:f||!t,variant:n?"negative":p.myAlertsStyle.buttonVariant,fontSize:[{until:"s",value:-2},{from:"s",value:-1}],boxModel:[{until:"s",value:{hp:1.5,vp:.5}},{from:"s",value:{hp:2,vp:1}}],miscStyles:{minWidth:[{until:"s",value:"10rem"},{from:"s",value:"12rem"}],minHeight:[{from:"s",value:"5rem"}]},children:p.myAlertsI18n[n?"unsubscribe":"subscribe"]})}m.defaultProps={subscribe:null,statusUpdateDuration:4e3},t.Z=m},47364:function(e,t,n){"use strict";n(32735);var i=n(82070),r=n.n(i),s=n(6259),a=n(74512),l=r()(function(){return n.e(6371).then(n.bind(n,74317))},{loadableGenerated:{webpack:function(){return[74317]}}}),o={htz:l,hdc:l,tm:r()(function(){return n.e(3617).then(n.bind(n,83617))},{loadableGenerated:{webpack:function(){return[83617]}}})},u=function(e){return{gridArea:"image",marginTop:e?[{from:"s",value:"-5rem"}]:null,alignSelf:[{until:"s",value:"center"}],borderRadius:"50%",overflow:"hidden"}},c=["htz","tm","hdc"];function m(e){var t=e.image,n=e.site,i=e.isProtruding,r=c.includes(n)?n:"htz",l=o[r];return t?(0,a.jsx)(s.Z,{image:t,imgOptions:{transforms:{width:"106",aspect:"square"}},miscStyles:u(i),asWrapper:"figure"}):(0,a.jsx)(l,{size:[{until:"s",value:70/6},{from:"s",value:15}],fill:"white",color:["logoLight",r],miscStyles:u(i)})}m.defaultProps={image:null,isProtruding:!1},t.Z=m},66092:function(e,t,n){"use strict";n(32735);var i=n(99),r=n(10024),s=n(70004),a=n(74512);t.Z=function(){var e=(0,i.Z)(),t=e.theme,n=e.css;return(0,a.jsxs)(s.Z,{isPlaceholder:!0,children:[(0,a.jsx)("div",{className:n({position:"relative",extend:[t.mq({from:"s",until:"m"},{gridColumnEnd:"span 2"}),t.mq({from:"m",until:"l"},{gridColumnEnd:"span 3"}),t.mq({from:"l"},{gridColumnEnd:"span 4"})]}),children:(0,a.jsx)(r.Z,{isAbsolute:!0})}),[,,,,].fill().map(function(e,i){return(0,a.jsx)("div",{className:n({position:"relative",extend:i>2?[t.mq({from:"m",until:"l"},{display:"none"})]:[]}),children:(0,a.jsx)(r.Z,{isAbsolute:!0})},i)})]})}},70004:function(e,t,n){"use strict";var i=n(31737);n(32735);var r=n(99),s=n(65292),a=n(51579),l=n(57921),o=n(74512);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){var t=e.title,n=e.marginTop,c=e.variation,m=e.isPlaceholder,d=e.children,p=(0,r.Z)(),f=(p.css,p.theme),b="minimal"===c;return(0,o.jsxs)(a.Z,{bgc:"transparent",miscStyles:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({marginTop:n,display:"grid",gridTemplateColumns:[{from:"s",until:"m",value:"repeat(".concat(b?3:2,", 1fr)")},{from:"m",until:"l",value:"repeat(".concat(b?4:3,", 1fr)")},{from:"l",value:"repeat(".concat(b?5:4,", 1fr)")}],gridGap:[{until:"s",value:"2rem"},{from:"s",value:"3rem"}]},m?{gridTemplateRows:"6rem",gridAutoRows:[{until:"s",value:"15rem"},{from:"s",value:"35rem"}]}:{}),children:[t?(0,o.jsx)(s.Z,{title:t,disableGridArea:!0,isTopBorderDisabled:!0,miscStyles:{gridColumnEnd:[{from:"s",until:"m",value:b?"span 3":"span 2"},{from:"m",until:"l",value:b?"span 4":"span 3"},{from:"l",value:b?"span 5":"span 4"}],borderTop:[{until:"s",value:["1px",0,"solid",f.color("list","listViewHeader")]},{from:"s",value:["2px",1,"solid",f.color("list","listViewHeader")]}],position:[{until:"s",value:"sticky!important"}]}}):null,(0,o.jsx)(l.Z,{isFragment:!0,children:d})]})}c.defaultProps={title:null,marginTop:[{until:"s",value:"5rem"},{from:"s",until:"xl",value:"11rem"},{from:"xl",value:"9rem"}],variation:"default",isPlaceholder:!1},t.Z=c},31222:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var i=n(31737),r=n(99276),s=n(32735),a=n(72708),l=n(30007),o=n.n(l),u=n(99),c=n(58535),m=n(75498),d=n(47364),p=n(6556),f=n(74512);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=function(e){var t=e.theme,n=e.isImageProtruding,i=e.displayOnMobile,r=e.isSubscribed,s=e.isMutedWhenSubscribed,a=e.borderColor;return{backgroundColor:t.color("neutral","-10"),display:"grid",color:r&&s?t.color("neutral","-3"):t.color("neutral","-1"),transition:"color 0.2s",extend:[t.mq({until:"s"},g(g({},i?{}:{display:"none"}),{},{padding:"1rem 1rem 1rem 2rem",gridColumnGap:"1.5rem",gridTemplateRows:"auto 1fr",gridTemplateColumns:"calc(11rem + 4px) 1fr minmax(10rem, auto)",gridTemplateAreas:'\n"image he      action"\n"image content action"\n'})),t.mq({from:"s"},{gridRowGap:"1rem",textAlign:"center",padding:"".concat(n?"0":"3rem"," 2rem 2rem"),marginTop:n?"5rem":null,gridTemplateRows:"auto auto 1fr auto",gridTemplateColumns:"1fr 15rem 1fr",gridTemplateAreas:'\n".        image        ."\n"he        he         he"\n"content content content"\n"action  action  action"'}),t.mq({from:"s"},{border:a?"1px solid ".concat(a):"none"})]}};function y(e){var t=e.image,n=e.site,i=e.title,a=e.description,l=e.frequency,o=e.subscribe,b=e.onView,g=e.isSubscribed,y=e.isMutedWhenSubscribed,h=e.requestStatus,O=e.isImageProtruding,k=e.displayOnMobile,j=e.borderColor,x=(0,u.Z)({isImageProtruding:O,displayOnMobile:k,isSubscribed:g,isMutedWhenSubscribed:y,borderColor:j}),S=x.css,N=x.theme,w=(0,c.YD)({triggerOnce:!0,threshold:.9}),Z=(0,r.Z)(w,2),P=Z[0],C=Z[1],D=s.useRef(b);D.current=b;var T=N.myAlertsI18n.frequency.get(l)||null;return s.useEffect(function(){C&&D.current&&D.current()},[C]),(0,f.jsxs)("article",{ref:P,className:S(v),children:[(0,f.jsx)(d.Z,{image:t,site:n,isProtruding:O}),(0,f.jsxs)("div",{className:S({gridArea:"he",extend:[N.mq({until:"s"},{textAlign:"start"}),N.mq({from:"s"},{marginTop:"1rem",textAlign:"center"})]}),children:[(0,f.jsx)("div",{className:S({color:g&&y?"inherit":N.color("list","listViewHeader"),fontWeight:700,extend:[N.type(-2,{until:"xl"}),N.type(-3,{from:"xl"}),N.mq({until:"s"},{display:"none"}),N.mq({until:"xl"},{minHeight:"1.5em"}),N.mq({from:"xl"},{minHeight:"1.75em"})]}),children:T}),(0,f.jsx)(m.Z,{className:S({fontFamily:N.fontStacks.base,extend:[N.type(1,{until:"xl"})]}),children:i})]}),(0,f.jsxs)("p",{className:S({textAlign:"start",fontFamily:N.fontStacks.base,gridArea:"content",extend:[N.type(-2,{until:"s"}),N.type(-1,{from:"xl"}),N.mq({until:"s"},{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":3,"-webkit-box-orient":"vertical"})]}),children:[T?(0,f.jsxs)("span",{className:S({color:g&&y?"inherit":N.color("tertiary"),extend:[N.mq({from:"s"},{display:"none"})]}),children:[T," ","|"," "]}):null,a]}),(0,f.jsx)("div",{className:S({gridArea:"action",textAlign:"center",extend:[N.mq({until:"s"},{alignSelf:"center"}),N.mq({from:"s"},{marginTop:"3rem"})]}),children:(0,f.jsx)(p.Z,{subscribe:o,isSubscribed:g,requestStatus:h})})]})}y.defaultProps={image:null,description:null,isImageProtruding:!0,displayOnMobile:!0,isMutedWhenSubscribed:!0,onView:null,subscribe:null,borderColor:null};var h=n(32304),O=n(31099);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e){var t=e.email,n=e.tagNumber,i=e.segmentName,l=e.segmentData,u=e.site,c=e.isSubscribed,m=e.indexInList,d=e.campaignName,p=e.displayOnMobile,b=e.isMutedWhenSubscribed,g=e.borderColor,v=s.useState(c),k=(0,r.Z)(v,2),x=k[0],S=k[1],N=s.useState(h.Z.idle),w=(0,r.Z)(N,2),Z=w[0],P=w[1],C=(0,a.Db)(o()),D=(0,r.Z)(C,1)[0],T=(0,O.DN)(),A=T.biAction,q=T.biImpression;s.useEffect(function(){var e;return[h.Z.success,h.Z.error].includes(Z)&&(e=setTimeout(function(){P(h.Z.idle)},4e3)),function(){clearTimeout(e)}},[Z]);var M=l.image,I=l.description,E=l.frequency,R={feature:"Newsletter Teaser",featureType:"Content",campaignName:d||"My Alerts",campaignDetails:"".concat(c?"Subscribed":"Recommended"," Alerts"),NoInList:m+1,segmentId:n,segmentName:i,newsletterEmail:t};return(0,f.jsx)(y,{borderColor:g,image:M,site:u,title:i,description:I,frequency:E,subscribe:t?function(){Z===h.Z.idle&&(P(h.Z.pending),D({variables:{input:{userEmail:t,resourceType:"newsletter",segmentName:i,tagNumber:n,site:u||"htz",isUnsubscribe:x,caller:"client"}}}).then(function(e){var t=e.data;if((null==t?void 0:t.newsletterSignup.status)!=="error")P(h.Z.success),S(!x);else throw Error("Received error status")}).catch(function(){P(h.Z.error),q(j(j({},R),{},{campaignDetails:"".concat(R.campaignDetails," - Error")}))}),A(j(j({},R),{},{actionCode:x?8:9})))}:null,onView:function(){return q(R)},requestStatus:Z,isSubscribed:x,displayOnMobile:p,isMutedWhenSubscribed:b})}x.defaultProps={isSubscribed:!1,displayOnMobile:!0,isMutedWhenSubscribed:!0,campaignName:"My Alerts",borderColor:null};var S=x},95167:function(e,t,n){"use strict";n.d(t,{g:function(){return h}});var i=n(17774),r=n(99276),s=n(32735),a=n(72708),l=n(99),o=n(94722),u=n.n(o),c=n(43799),m=n(70231),d=n(66092),p=n(70004),f=n(31222),b=n(74512),g=["tagNumber","segmentName"],v=function(e){for(var t=e.slice(),n=t.length-1;n>0;n-=1){var i=Math.floor(Math.random()*(n+1)),r=t[n],s=t[i];t[n]=s,t[i]=r}return t},y={thankYou:"Thankyou Page",unsubscribe:"Unsubscribe Page",myAlerts:"My Alerts"};function h(e){var t,n=e.title,o=e.subtitle,m=e.site,h=e.page,O=e.email,k=e.maxItemCount,j=e.isRandom,x=e.marginTop,S=e.onNoContent,N=e.hideButton,w=e.borderColor,Z=(0,l.Z)().theme,P=(0,a.aM)(u(),{ssr:!1,variables:{input:{email:O,site:m,page:h}}}),C=P.data,D=P.loading,T=null==C?void 0:null===(t=C.userRecommendations)||void 0===t?void 0:t.segments,A=s.useMemo(function(){var e=(T||[]).filter(Boolean);return j?v(e):e},[T,j]),q=Math.min(A.length,k||A.length),M=q>0,I=s.useState(!1),E=(0,r.Z)(I,2),R=E[0],z=E[1];s.useEffect(function(){M||D||!S||S()},[M,D,S]);var F=M?A.slice(0,R?q:Math.min(4,k||4)):null,V=R||q<5?[null,Z.myAlertsI18n.alertsLandingPageHref,Z.myAlertsI18n.alertsLandingPageLinkText]:[function(){return z(!0)},null,Z.myAlertsI18n.loadMore],L=(0,r.Z)(V,3),W=L[0],H=L[1],U=L[2];return Array.isArray(F)?(0,b.jsxs)(p.Z,{title:n,subtitle:o,marginTop:x,children:[F.map(function(e,t){var n=e.tagNumber,r=e.segmentName,s=(0,i.Z)(e,g);return(0,b.jsx)(f.Z,{site:m,email:O,tagNumber:n,segmentName:r,segmentData:s,campaignName:y[h]||y.myAlerts,indexInList:t,borderColor:w},n)}),N?null:(0,b.jsx)(c.Z,{onClick:W,href:H,variant:Z.myAlertsStyle.buttonVariant,miscStyles:{justifySelf:"center",gridColumnEnd:[{from:"s",until:"m",value:"span 2"},{from:"m",until:"l",value:"span 3"},{from:"l",value:"span 4"}]},children:U})]}):D?(0,b.jsx)(d.Z,{}):null}function O(e){var t=e.title,n=e.subtitle,i=e.site,r=e.page,s=e.maxItemCount,a=e.isRandom,l=e.marginTop,o=e.onNoContent;return(0,b.jsx)(m.ZP,{render:function(e){var u=e.user;return e.isLoggedIn?(0,b.jsx)(h,{title:t,subtitle:n,site:i,page:r,marginTop:l,email:null==u?void 0:u.email,maxItemCount:s,isRandom:a,onNoContent:o}):null}})}h.defaultProps={email:null,title:null,subtitle:null,marginTop:void 0,onNoContent:null,isRandom:!1,maxItemCount:null,borderColor:null},O.defaultProps={marginTop:void 0,onNoContent:null,title:null,subtitle:null,maxItemCount:null,isRandom:!1},t.Z=O},32304:function(e,t){"use strict";var n=Object.freeze({idle:"idle",pending:"pending",success:"success",error:"error"});t.Z=n},30007:function(e){e.exports={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"NewsletterSignUpMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"NewsletterSignupInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"newsletterSignup"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}]}},94722:function(e){e.exports={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserRecommendations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserRecommendationsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userRecommendations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"segments"},name:{kind:"Name",value:"recommendations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagNumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"site"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"frequency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"segmentName"},arguments:[],directives:[]}]}}]}}]}}]}}}]);
//# sourceMappingURL=5167-2e258300001d0b74.js.map