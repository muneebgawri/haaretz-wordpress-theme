(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1952],{86780:function(e,t,n){"use strict";n.d(t,{Wj:function(){return f},ZP:function(){return p}});var r=n(31737),i=n(99276),o=n(32735),a=n(99),l=n(60216),s=n.n(l),c=n(36570),u=n(74512);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}s().object.isRequired,s().object.isRequired,s().func;var f={onToggle:null};function p(e){var t=e.author,n=e.children,r=e.className,l=e.forwardedRef,s=e.onToggle,d=e.tag,m=o.useState(!1),f=(0,i.Z)(m,2),p=f[0],g=f[1],v=o.useRef(p),y=(0,a.Z)().theme;return o.useEffect(function(){v.current!==p&&s&&s(p),v.current=p},[p,s]),(0,u.jsxs)("button",{type:"button",ref:l,className:r,"aria-expanded":p,onClick:function(){return g(!p)},"aria-describedby":"alerts_btn_description","data-test":d?"tagAlertButton":"writerAlertButton",children:[(0,u.jsx)(c.Z,{id:"alerts_btn_description",children:"".concat(y.alertsI18n.alertsTextA11y," ").concat((t||d).contentName)}),n]})}p.defaultProps={onToggle:null,className:null},p.defaultProps=m(m({},f),{},{className:null})},1952:function(e,t,n){"use strict";var r=n(31737),i=n(99276),o=n(31652),a=n(32735),l=n(99),s=n(89973),c=n(35837),u=n(86780),d=n(51941),m=n(24284),f=n(7193),p=n(12835),g=n(69236),v=n(14388),y=n(63004),b=n(2637),h=n(74512);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e){var t=e.theme,n=e.miscStyles,r=e.status,i="".concat(t.color("alerts","openButtonText".concat(r))," !important");return{color:t.color("alerts","openButtonText".concat(r)),fontWeight:"bold","&:visited":{color:i},"&:active":{color:i},"&:focus":{color:i},"&:hover":{color:i},extend:[t.type(-2,{fromBp:"xl"}),t.type(-1,{fromBp:"l",untilBp:"xl"}),t.type(-2,{untilBp:"l"})].concat((0,o.Z)(n?(0,s.Z)("function"==typeof n?n({status:r}):n,t.mq,t.type):[]))}}function S(e){var t,n=e.author,r=e.onToggle,o=e.innerRef,s=e.platform,j=e.biAction,S=e.origin,k=e.modalVariationMq,w=e.isModal,N=e.iconSize,Z=e.miscStyles,P=e.iconMiscStyles,I=e.isBlog,T=a.useState(!1),B=(0,i.Z)(T,2),M=B[0],R=B[1],D=(0,p.Z)({query:k||"(max-width: 0px)"}),A=(0,g.Z)(),C=(0,a.useState)(A?"Unfollow":""),E=C[0],q=C[1],z=(0,l.Z)({miscStyles:Z,iconMiscStyles:P,status:E}),V=z.css,F=z.theme,_=(0,y.Z)(),W=(0,c.useRouter)(),U=!(0,b.Z)()&&W.asPath.startsWith("/blogs"),L=I&&(null==_?void 0:null===(t=_[U?0:1])||void 0===t?void 0:t.name)||(null==n?void 0:n.contentName),H=(0,a.useCallback)(function(){"Unfollow"!==E&&q("Unfollow")},[E]),G=(0,a.useCallback)(function(){"Follow"!==E&&q("Follow")},[E]);(0,v.Z)("setFollow",H,!1),(0,v.Z)("setUnfollow",G,!1);var J="Follow"===E;if(A)return(0,h.jsxs)("a",{href:"https://author.alerts.".concat(J?"off":"on","/"),target:"_blank",rel:"noreferrer",className:V(O),children:[(0,h.jsx)(d.Z,{color:J?["neutral","-5"]:void 0,size:N,miscStyles:P}),(0,h.jsxs)("span",{children:[" ",F.alertsI18n["mobileAlertsText".concat(E)]]})]});var K=V(O);return D||w?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(u.ZP,{className:K,author:n,onToggle:function(){R(function(e){var t=!e;return t?"function"==typeof j&&j({actionCode:91,featureType:"Content",feature:"".concat(I?"Blog":"Writer"," Alert - article page"),campaignName:"".concat(I?"blog":"writer"," name"),campaignDetails:F.alertsI18n.campainName,segmentId:n&&n.contentId,segmentName:L}):o.current&&o.current.focus(),t})},forwardedRef:o,children:[(0,h.jsx)(d.Z,{size:N,miscStyles:P}),(0,h.jsxs)("span",{children:[" ",F.alertsI18n.desktopAlertsText]})]}),(0,h.jsx)(m.Z,{identifier:"authorAlert",appendTo:"modalsRootAuthorAlert",elementToHide:"pageRoot",isVisible:M,overlayBgColor:"rgba(255, 255, 255, 0.9)",closeOnOutsideClick:!0,onClose:function(){R(!1)},styledModal:!0,render:function(e){e.isVisible;var t=e.handleClose;return(0,h.jsx)("div",{className:V({textAlign:"center"}),children:(0,h.jsx)("div",{className:V(x({overflow:"hidden",left:0,right:0,backgroundColor:F.color("primary","-5"),zIndex:F.getZIndex("above")},w?F.mq({until:"s"},{width:"52rem"}):{})),children:(0,h.jsx)(f.Z,{origin:S,author:n,platform:s,biAction:j,onToggle:function(){return t()},isBlog:I})})})}})]}):(0,h.jsxs)(u.ZP,{className:K,author:n,onToggle:r,forwardedRef:o,children:[(0,h.jsx)(d.Z,{size:N,miscStyles:P}),(0,h.jsxs)("span",{children:[" ",F.alertsI18n.mobileAlertsText]})]})}S.defaultProps=x(x({},u.Wj),{},{platform:null,innerRef:null,biAction:null,isModal:!1,modalVariationMq:null,miscStyles:null,iconMiscStyles:null,iconSize:[{until:"s",value:3},{from:"s",value:2.5}]}),t.Z=a.forwardRef(function(e,t){return(0,h.jsx)(S,x({innerRef:t},e))})},51941:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(31737),i=n(17774);n(32735);var o=n(99),a=n(71729),l=n(52293),s=n(74512),c=["size","fill","color","attrs","miscStyles"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e){var t=e.size,n=e.fill,r=e.color,l=e.attrs,u=e.miscStyles,m=(0,i.Z)(e,c),f=(0,o.Z)({size:t,fill:n,color:r,miscStyles:u}).css(a.Z);return(0,s.jsxs)("svg",d(d(d({width:"1em",height:"1em",viewBox:"0 0 256 256",className:f},m),l),{},{"data-test":"IconAlert",children:["  ",(0,s.jsx)("path",{fill:"currentColor",d:"M196.9 169.3c-4-4-6.3-9.2-6.7-14.8L187 94.8c0-25-21.2-45.1-49.1-48.4 0-1.2-.1-2.8-.1-4.3 0-3.3-2-6.4-5.1-7.6-5.4-1.9-10.5 2-10.4 7.1 0 2.1.1 3.7.1 4.8-27.9 3.3-49.6 23.3-49.6 48.3l-3.3 59.6c-.3 5.6-2.7 10.9-6.7 14.9L46 186v7h168v-7l-17.1-16.7zM110.6 202h38c0 10.5-8.3 18.6-18.8 18.6s-19.2-8.1-19.2-18.6z"})]}))}m.defaultProps=l.f},7193:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(99276),i=n(32735),o=n(99),a=n(35837),l=n(24284),s=n(43799),c=n(68418),u=n(59702),d=n(63004),m=n(2637),f=n(74512);function p(e){var t,n=e.biAction,p=e.author,g=e.onToggle,v=e.origin,y=e.isBlog,b=i.useState(!1),h=(0,r.Z)(b,2),j=h[0],x=h[1],O=i.useState(null),S=(0,r.Z)(O,2),k=S[0],w=S[1],N=i.useState(null),Z=(0,r.Z)(N,2),P=Z[0],I=Z[1],T=(0,o.Z)(),B=T.css,M=T.theme,R=(0,a.useRouter)(),D=(0,d.Z)(),A=!(0,m.Z)()&&R.asPath.startsWith("/blogs"),C=y&&(null==D?void 0:null===(t=D[A?0:1])||void 0===t?void 0:t.name)||(null==p?void 0:p.contentName);if(i.useEffect(function(){I("authorAlerts_".concat(Math.floor(100*Math.random())))},[]),!P)return null;var E=M.serviceByMailI18n.confirmationButton[k]||M.serviceByMailI18n.confirmationButton.default;return(0,f.jsxs)("div",{className:B({fontFamily:M.fontStacks[M.serviceByMailStyle.fontStack],color:M.color("neutral","-1")}),children:[(0,f.jsx)("div",{id:"".concat(P,"_form"),children:(0,f.jsx)(c.Z,{title:"".concat(M.serviceByMailI18n.authorAlertServiceTitle).concat(C),resourceType:y?"blog":"writer",resourceId:p.contentId,resourceName:C,origin:v,onRegistrationSuccess:function(e){var t=e.email,r=e.status;x(!0),w(r),n({actionCode:9,featureType:"Content",feature:"".concat(y?"Blog":"Writer"," Alert - article page"),campaignName:"".concat(y?"blog":"writer"," name"),campaignDetails:M.serviceByMailI18n.campaignName,segmentId:p&&p.contentId,newsletterEmail:t,segmentName:C})},onRegistrationError:function(e){x(!0),w(null)},onCancel:g,type:"user"})}),(0,f.jsx)(l.Z,{appendTo:P,elementToHide:"".concat(P,"_form"),isVisible:j,overlayBgColor:"rgba(0,0,0,0)",onClose:function(){g(),x(!1)},containerMiscStyles:{width:"100%",height:"100%"},render:function(e){e.isVisible;var t=e.handleClose;return e.isModal,(0,f.jsxs)("div",{"data-test":"authorNotificationRegistrationResultDialog",className:B({height:"100%",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",paddingInlineStart:"2rem",paddingInlineEnd:"2rem",backgroundColor:M.color("alerts","bg")}),children:[(0,f.jsx)("button",{onClick:function(){g()},type:"button",className:B({top:"0rem",end:"0rem",position:"absolute",extend:[M.mq({until:"l"},{top:"1rem",end:"1rem"})]}),children:(0,f.jsx)(u.Z,{size:3})}),(0,f.jsx)("div",{className:B({fontWeight:"700",marginBottom:"2rem",extend:[M.type(-1)]}),children:["success","exist","pending"].includes(k)?(0,f.jsxs)(f.Fragment,{children:[M.serviceByMailI18n.confirmationMessageAuthor[k](C),M.serviceByMailI18n.confirmationMessageSecondRow[k]&&(0,f.jsx)("span",{className:B({display:"block",marginTop:"1rem"}),children:M.serviceByMailI18n.confirmationMessageSecondRow[k]})]}):M.serviceByMailI18n.registrationfailureDefaultMessage}),E?(0,f.jsx)(s.Z,{href:E.href,onClick:t,variant:"neutral",miscStyles:{type:-2},children:E.text}):null]})}}),(0,f.jsx)("div",{id:P})]})}p.defaultProps={onToggle:null}},68418:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(31737),i=n(99276),o=n(32735),a=n(99),l=n(72708),s=n(4881),c=n.n(s),u=n(72322),d=n.n(u),m=n(55964),f=n(43799),p=n(31493),g=n(70231),v=n(59702),y=n(24036),b=n.n(y),h=n(93889),j=n.n(h),x=n(74512);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var k=c().has("siteNumber")?c().get("siteNumber"):80,w=10===k||20===k?"tm":85===k?"hdc":"htz";function N(e,t){switch(e){case"user":default:return t.user;case"tag":return t.tag}}function Z(e){var t=e.onRegistrationError,n=e.onRegistrationSuccess,r=e.title,s=e.resourceType,c=e.resourceId,u=e.resourceName,y=e.origin,h=e.onCancel,O=e.type,k=o.useState(!1),Z=(0,i.Z)(k,2),P=Z[0],I=Z[1],T=(0,a.Z)(),B=T.css,M=T.theme,R=N(O,{user:b(),tag:j()}),D=(0,l.Db)(R),A=(0,i.Z)(D,1)[0];function C(e){I(!0);var r=e.email;A({variables:{input:S({},N(O,{user:{resourceType:s,resourceId:c,resourceName:u,origin:y,email:r,site:w},tag:{resourceId:c,email:r,site:w}}))}}).then(function(e){var t=N(O,{user:"userAlertsRegistration",tag:"tagAlertsRegistration"}),i=e.data[t].status;if(["success","exist","pending"].includes(i))n&&n({status:i,email:r}),I(!1);else throw Error("failed to register for user alerts")}).catch(function(e){I(!1),t&&t(e)})}var E=!!s&&"writer"===s;return(0,x.jsx)(g.ZP,{render:function(e){var t=e.isLoggedIn,n=e.user;return(0,x.jsxs)("div",{"data-test":"serviceByMailRegistrationDialog",className:B({backgroundColor:M.color("alerts","bg"),padding:"2rem",position:"relative",textAlign:"start"}),children:[(0,x.jsx)("button",{onClick:function(){h()},type:"button",className:B({top:"1rem",end:"1rem",position:"absolute"}),children:(0,x.jsx)(v.Z,{size:3})}),r?(0,x.jsx)("p",{className:B({fontWeight:"bold",extend:[M.type(-1),M.mq({until:"l"},{paddingInlineEnd:"7rem"})]}),children:r}):"",(0,x.jsx)(p.Z,{className:B({marginTop:"3rem",display:"flex",flexDirection:"row",extend:[M.mq({until:"s"},{flexDirection:"column",alignItems:"center"}),M.mq({from:"s"},{alignItems:E?"flex-start":"end"})]}),onSubmit:C,initialValues:{email:t?n.email:null},validate:function(e){var t,n,r,i;return n=(t={email:e.email,theme:M}).email,r=t.theme,i=[],n?d()(n)||i.push({name:"email",order:1,errorText:r.serviceByMailI18n.inpEmailErrorInvalid}):i.push({name:"email",order:1,errorText:r.serviceByMailI18n.inpEmailErrorRequired}),i},render:function(e){var t=e.getInputProps,n=e.handleSubmit;return e.clearForm,(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.Z,S({},t({name:"email",label:M.serviceByMailI18n.inpEmailLabelText,type:"email",isError:!1,placeHolder:M.serviceByMailI18n.inpEmailLabelText,noteText:M.serviceByMailI18n.inpEmailNoteText,variant:M.alertsStyle.inputVariant,requiredText:{isSup:!0,long:"required",short:"*"},miscStyles:{type:-2,fontWeight:"bold",width:[{from:"l",value:"64rem"}],color:"inherit",":hover":{color:"inherit"}},wrapperStyle:{extend:[M.mq({until:"l"},{width:"100%"})]}}))),(0,x.jsx)(f.Z,{attrs:{"data-test":"serviceByMailRegistrationDialogSendButton"},variant:"neutral",onClick:n,isBusy:P,miscStyles:{marginInlineStart:[{from:"s",value:"1rem"}],type:-2,marginTop:[{until:"s",value:"2rem"}]},children:M.serviceByMailI18n.btnSubmitText})]})}})]})}})}Z.defaultProps={title:null,onRegistrationSuccess:null,onRegistrationError:null,onCancel:null,origin:null,type:"user"}},93889:function(e){e.exports={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"TagAlertsRegistrationServiceMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TagAlertsRegistrationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagAlertsRegistration"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}]}},24036:function(e){e.exports={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UserAlertsRegistrationMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserAlertsRegistrationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userAlertsRegistration"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}]}}}]);
//# sourceMappingURL=1952-129c418df155f5c1.js.map